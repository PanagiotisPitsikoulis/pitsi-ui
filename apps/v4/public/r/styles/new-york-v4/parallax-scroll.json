{
  "$schema": "https://ui.pitsi.com/schema/registry-item.json",
  "name": "parallax-scroll",
  "type": "registry:ui",
  "description": "Animation component: parallax scroll",
  "files": [
    {
      "path": "registry/new-york-v4/animations/parallax-scroll/parallax-scroll.tsx",
      "content": "\"use client\"\n\nimport type { ReactNode } from \"react\"\nimport { memo, useMemo, useRef } from \"react\"\nimport { motion, useScroll, useTransform, type MotionValue } from \"motion/react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { useAnimationState } from \"@/hooks/use-animation-state\"\nimport { useIsMobile } from \"@/hooks/use-mobile\"\n\nexport type ParallaxConfig = {\n  /** Vertical movement range. Example: [\"0%\", \"20%\"] or [0, 100] */\n  y?: [string | number, string | number]\n  /** Horizontal movement range. Example: [\"-20%\", \"20%\"] or [-100, 100] */\n  x?: [string | number, string | number]\n  /** Scale transformation range. Example: [0.8, 1.2] */\n  scale?: [number, number]\n  /** Opacity change range. Example: [0, 1] */\n  opacity?: [number, number]\n  /** Rotation range in degrees. Example: [-10, 10] */\n  rotate?: [number, number]\n}\n\nexport type ParallaxScrollProps = {\n  /** Content to apply parallax effect to */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n  /** Scroll offset when to start/end animation. Default: [\"start end\", \"end start\"] */\n  offset?: [string, string]\n  /** Configuration for various transform properties */\n  config?: ParallaxConfig\n  /** Enable scroll-based animation. Default: true */\n  scrollBased?: boolean\n  /** Disable animation on mobile. Default: false */\n  noMobile?: boolean\n}\n\n/**\n * General-purpose parallax component with configurable transforms.\n * Can control position, scale, opacity, and rotation independently.\n * Perfect for creating complex scroll-based animations.\n */\nexport const ParallaxScroll = memo<ParallaxScrollProps>(\n  ({\n    children,\n    className,\n    offset = [\"start end\", \"end start\"],\n    config = { y: [\"0%\", \"20%\"] },\n    scrollBased = true,\n    noMobile = false,\n  }) => {\n    const isMobile = useIsMobile()\n    const ref = useRef<HTMLDivElement>(null)\n    const { shouldDisableAnimation, shouldUseScroll } = useAnimationState(\n      scrollBased,\n      noMobile\n    )\n\n    const { scrollYProgress } = useScroll({\n      target: shouldUseScroll ? ref : undefined,\n      offset: offset as any,\n    })\n\n    const adjustedConfig = useMemo(() => {\n      if (!isMobile) return config\n\n      // Reduce movement on mobile for better performance\n      return {\n        ...config,\n        y: config.y\n          ? [\n              typeof config.y[0] === \"string\" ? config.y[0] : config.y[0] * 0.5,\n              typeof config.y[1] === \"string\" ? config.y[1] : config.y[1] * 0.5,\n            ]\n          : undefined,\n        x: config.x\n          ? [\n              typeof config.x[0] === \"string\" ? config.x[0] : config.x[0] * 0.5,\n              typeof config.x[1] === \"string\" ? config.x[1] : config.x[1] * 0.5,\n            ]\n          : undefined,\n      } as ParallaxConfig\n    }, [config, isMobile])\n\n    // Create motion values for each transform property\n    const y = adjustedConfig.y\n      ? useTransform(scrollYProgress, [0, 1], adjustedConfig.y as any)\n      : undefined\n    const x = adjustedConfig.x\n      ? useTransform(scrollYProgress, [0, 1], adjustedConfig.x as any)\n      : undefined\n    const scale = adjustedConfig.scale\n      ? useTransform(scrollYProgress, [0, 1], adjustedConfig.scale)\n      : undefined\n    const opacity = adjustedConfig.opacity\n      ? useTransform(scrollYProgress, [0, 1], adjustedConfig.opacity)\n      : undefined\n    const rotate = adjustedConfig.rotate\n      ? useTransform(scrollYProgress, [0, 1], adjustedConfig.rotate)\n      : undefined\n\n    const motionValues: Record<string, MotionValue> = useMemo(() => {\n      const values: Record<string, MotionValue> = {}\n      if (y) values.y = y\n      if (x) values.x = x\n      if (scale) values.scale = scale\n      if (opacity) values.opacity = opacity\n      if (rotate) values.rotate = rotate\n      return values\n    }, [y, x, scale, opacity, rotate])\n\n    if (shouldDisableAnimation) {\n      return <div className={className}>{children}</div>\n    }\n\n    return (\n      <motion.div\n        ref={ref}\n        style={motionValues}\n        className={cn(\"will-change-transform\", className)}\n      >\n        {children}\n      </motion.div>\n    )\n  }\n)\n\nParallaxScroll.displayName = \"ParallaxScroll\"\n\nexport type VerticalParallaxProps = {\n  /** Content to apply vertical parallax to */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n  /** Percentage distance to move. Default: 20 */\n  speed?: number\n  /** Move opposite to scroll direction. Default: false */\n  reverse?: boolean\n  /** Disable animation on mobile. Default: false */\n  noMobile?: boolean\n}\n\n/**\n * Simplified vertical parallax component.\n * Elements move up or down at different speed than scroll.\n */\nexport const VerticalParallax = memo<VerticalParallaxProps>(\n  ({ children, className, speed = 20, reverse = false, noMobile = false }) => {\n    const movement = reverse ? [speed, -speed] : [-speed, speed]\n\n    return (\n      <ParallaxScroll\n        config={{ y: [`${movement[0]}%`, `${movement[1]}%`] }}\n        className={className}\n        noMobile={noMobile}\n      >\n        {children}\n      </ParallaxScroll>\n    )\n  }\n)\n\nVerticalParallax.displayName = \"VerticalParallax\"\n\nexport type HorizontalParallaxProps = {\n  /** Content to apply horizontal parallax to */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n  /** Movement direction. Default: \"left\" */\n  direction?: \"left\" | \"right\"\n  /** Distance to move in percentage. Default: 20 */\n  speed?: number\n  /** Disable animation on mobile. Default: false */\n  noMobile?: boolean\n}\n\n/**\n * Simplified horizontal parallax component.\n * Elements move left or right as you scroll.\n */\nexport const HorizontalParallax = memo<HorizontalParallaxProps>(\n  ({\n    children,\n    className,\n    direction = \"left\",\n    speed = 20,\n    noMobile = false,\n  }) => {\n    const movement = direction === \"left\" ? [-speed, speed] : [speed, -speed]\n\n    return (\n      <ParallaxScroll\n        config={{ x: [`${movement[0]}%`, `${movement[1]}%`] }}\n        className={className}\n        noMobile={noMobile}\n      >\n        {children}\n      </ParallaxScroll>\n    )\n  }\n)\n\nHorizontalParallax.displayName = \"HorizontalParallax\"\n\nexport default ParallaxScroll\n",
      "type": "registry:ui"
    }
  ],
  "categories": [
    "animations"
  ],
  "tier": "free",
  "readiness": "beta"
}