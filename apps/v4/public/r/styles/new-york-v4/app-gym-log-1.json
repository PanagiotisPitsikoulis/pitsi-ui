{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "app-gym-log-1",
  "type": "registry:block",
  "description": "Active workout logging with set tracking and timer",
  "dependencies": [
    "@hugeicons/react",
    "@hugeicons/core-free-icons"
  ],
  "registryDependencies": [
    "button",
    "input",
    "utils"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/blocks/application/app-gym-log-1.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\n\nimport {\n  Check,\n  ChevronDown,\n  Clock,\n  Dumbbell,\n  Minus,\n  Plus,\n  RotateCcw,\n  X,\n} from \"@/lib/icons\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\nimport { Input } from \"@/registry/new-york-v4/ui/input\"\n\ninterface Set {\n  id: string\n  reps: number | null\n  weight: number | null\n  completed: boolean\n}\n\ninterface Exercise {\n  id: string\n  name: string\n  targetSets: number\n  targetReps: string\n  lastWeight: number\n  sets: Set[]\n  completed: boolean\n}\n\nconst initialExercises: Exercise[] = [\n  {\n    id: \"1\",\n    name: \"Bench Press\",\n    targetSets: 5,\n    targetReps: \"5\",\n    lastWeight: 100,\n    sets: [\n      { id: \"1-1\", reps: 5, weight: 102.5, completed: true },\n      { id: \"1-2\", reps: 5, weight: 102.5, completed: true },\n      { id: \"1-3\", reps: 5, weight: 102.5, completed: true },\n      { id: \"1-4\", reps: 5, weight: 102.5, completed: true },\n      { id: \"1-5\", reps: 5, weight: 102.5, completed: true },\n    ],\n    completed: true,\n  },\n  {\n    id: \"2\",\n    name: \"Incline DB Press\",\n    targetSets: 4,\n    targetReps: \"10-12\",\n    lastWeight: 32,\n    sets: [\n      { id: \"2-1\", reps: 12, weight: 32, completed: true },\n      { id: \"2-2\", reps: 11, weight: 32, completed: true },\n      { id: \"2-3\", reps: 10, weight: 32, completed: true },\n      { id: \"2-4\", reps: null, weight: null, completed: false },\n    ],\n    completed: false,\n  },\n  {\n    id: \"3\",\n    name: \"Overhead Press\",\n    targetSets: 5,\n    targetReps: \"5\",\n    lastWeight: 57.5,\n    sets: [\n      { id: \"3-1\", reps: null, weight: 60, completed: false },\n      { id: \"3-2\", reps: null, weight: null, completed: false },\n      { id: \"3-3\", reps: null, weight: null, completed: false },\n      { id: \"3-4\", reps: null, weight: null, completed: false },\n      { id: \"3-5\", reps: null, weight: null, completed: false },\n    ],\n    completed: false,\n  },\n  {\n    id: \"4\",\n    name: \"Lateral Raises\",\n    targetSets: 3,\n    targetReps: \"12-15\",\n    lastWeight: 12,\n    sets: [\n      { id: \"4-1\", reps: null, weight: null, completed: false },\n      { id: \"4-2\", reps: null, weight: null, completed: false },\n      { id: \"4-3\", reps: null, weight: null, completed: false },\n    ],\n    completed: false,\n  },\n  {\n    id: \"5\",\n    name: \"Tricep Pushdown\",\n    targetSets: 3,\n    targetReps: \"10-12\",\n    lastWeight: 25,\n    sets: [\n      { id: \"5-1\", reps: null, weight: null, completed: false },\n      { id: \"5-2\", reps: null, weight: null, completed: false },\n      { id: \"5-3\", reps: null, weight: null, completed: false },\n    ],\n    completed: false,\n  },\n]\n\ninterface AppGymLog1Props {\n  onFinish?: () => void\n}\n\nexport function AppGymLog1({ onFinish }: AppGymLog1Props) {\n  const [exercises, setExercises] = React.useState(initialExercises)\n  const [expandedExercise, setExpandedExercise] = React.useState<string | null>(\n    \"2\"\n  )\n  const [elapsedTime, setElapsedTime] = React.useState(4920) // 1:22:00\n\n  React.useEffect(() => {\n    const interval = setInterval(() => {\n      setElapsedTime((t) => t + 1)\n    }, 1000)\n    return () => clearInterval(interval)\n  }, [])\n\n  const formatTime = (seconds: number) => {\n    const h = Math.floor(seconds / 3600)\n    const m = Math.floor((seconds % 3600) / 60)\n    const s = seconds % 60\n    return `${h}:${m.toString().padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`\n  }\n\n  const completedExercises = exercises.filter((e) => e.completed).length\n  const totalExercises = exercises.length\n\n  const toggleSet = (exerciseId: string, setId: string) => {\n    setExercises((prev) =>\n      prev.map((ex) => {\n        if (ex.id !== exerciseId) return ex\n        const newSets = ex.sets.map((s) =>\n          s.id === setId ? { ...s, completed: !s.completed } : s\n        )\n        return {\n          ...ex,\n          sets: newSets,\n          completed: newSets.every((s) => s.completed),\n        }\n      })\n    )\n  }\n\n  const updateSet = (\n    exerciseId: string,\n    setId: string,\n    field: \"reps\" | \"weight\",\n    value: number | null\n  ) => {\n    setExercises((prev) =>\n      prev.map((ex) => {\n        if (ex.id !== exerciseId) return ex\n        return {\n          ...ex,\n          sets: ex.sets.map((s) =>\n            s.id === setId ? { ...s, [field]: value } : s\n          ),\n        }\n      })\n    )\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mx-auto max-w-3xl space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <h1 className=\"display text-foreground text-2xl font-bold tracking-tight\">\n              Push Day\n            </h1>\n            <p className=\"text-muted-foreground mt-1 flex items-center gap-2 text-sm\">\n              <Clock className=\"size-4\" />\n              <span className=\"tabular-nums\">{formatTime(elapsedTime)}</span>\n              <span>·</span>\n              <span>\n                {completedExercises}/{totalExercises} exercises\n              </span>\n            </p>\n          </div>\n          <Button onClick={onFinish} disabled={completedExercises === 0}>\n            Finish Workout\n          </Button>\n        </div>\n\n        {/* Exercises */}\n        <div className=\"space-y-3\">\n          {exercises.map((exercise) => {\n            const isExpanded = expandedExercise === exercise.id\n            const completedSets = exercise.sets.filter(\n              (s) => s.completed\n            ).length\n\n            return (\n              <div\n                key={exercise.id}\n                className={cn(\n                  \"bg-muted overflow-hidden rounded-xl transition-all\"\n                )}\n              >\n                {/* Exercise Header */}\n                <button\n                  onClick={() =>\n                    setExpandedExercise(isExpanded ? null : exercise.id)\n                  }\n                  className=\"flex w-full items-center gap-3 p-4\"\n                >\n                  <div\n                    className={cn(\n                      \"flex size-8 shrink-0 items-center justify-center rounded-lg transition-colors\",\n                      exercise.completed\n                        ? \"bg-emerald-500 text-white\"\n                        : \"text-muted-foreground\"\n                    )}\n                    style={\n                      !exercise.completed\n                        ? {\n                            backgroundColor:\n                              \"color-mix(in srgb, var(--brand) 15%, transparent)\",\n                            color: \"var(--brand)\",\n                          }\n                        : undefined\n                    }\n                  >\n                    {exercise.completed ? (\n                      <Check className=\"size-4\" />\n                    ) : (\n                      <Dumbbell className=\"size-4\" />\n                    )}\n                  </div>\n                  <div className=\"flex-1 text-left\">\n                    <p\n                      className={cn(\n                        \"font-medium\",\n                        exercise.completed &&\n                          \"text-muted-foreground line-through\"\n                      )}\n                    >\n                      {exercise.name}\n                    </p>\n                    <p className=\"text-muted-foreground text-xs\">\n                      {completedSets}/{exercise.sets.length} sets · Target:{\" \"}\n                      {exercise.targetReps} reps\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-muted-foreground text-sm tabular-nums\">\n                      {exercise.lastWeight}kg\n                    </span>\n                    <ChevronDown\n                      className={cn(\n                        \"text-muted-foreground size-4 transition-transform\",\n                        isExpanded && \"rotate-180\"\n                      )}\n                    />\n                  </div>\n                </button>\n\n                {/* Expanded Sets */}\n                {isExpanded && (\n                  <div className=\"border-t px-4 pt-3 pb-4\">\n                    <div className=\"space-y-2\">\n                      {/* Header */}\n                      <div className=\"text-muted-foreground grid grid-cols-[auto_1fr_1fr_auto] gap-3 px-2 text-xs font-medium tracking-wide uppercase\">\n                        <span className=\"w-8\">Set</span>\n                        <span>Weight (kg)</span>\n                        <span>Reps</span>\n                        <span className=\"w-10\"></span>\n                      </div>\n\n                      {/* Sets */}\n                      {exercise.sets.map((set, index) => (\n                        <div\n                          key={set.id}\n                          className={cn(\n                            \"grid grid-cols-[auto_1fr_1fr_auto] items-center gap-3 rounded-lg p-2 transition-colors\",\n                            set.completed && \"bg-muted/50\"\n                          )}\n                        >\n                          <span\n                            className={cn(\n                              \"flex size-8 items-center justify-center rounded-md text-sm font-medium tabular-nums\",\n                              set.completed\n                                ? \"bg-emerald-500/10 text-emerald-600\"\n                                : \"bg-muted text-muted-foreground\"\n                            )}\n                          >\n                            {index + 1}\n                          </span>\n                          <Input\n                            type=\"number\"\n                            placeholder={exercise.lastWeight.toString()}\n                            value={set.weight ?? \"\"}\n                            onChange={(e) =>\n                              updateSet(\n                                exercise.id,\n                                set.id,\n                                \"weight\",\n                                e.target.value ? Number(e.target.value) : null\n                              )\n                            }\n                            className=\"h-9 tabular-nums\"\n                            disabled={set.completed}\n                          />\n                          <Input\n                            type=\"number\"\n                            placeholder={exercise.targetReps.split(\"-\")[0]}\n                            value={set.reps ?? \"\"}\n                            onChange={(e) =>\n                              updateSet(\n                                exercise.id,\n                                set.id,\n                                \"reps\",\n                                e.target.value ? Number(e.target.value) : null\n                              )\n                            }\n                            className=\"h-9 tabular-nums\"\n                            disabled={set.completed}\n                          />\n                          <Button\n                            variant={set.completed ? \"ghost\" : \"default\"}\n                            size=\"icon\"\n                            className=\"size-9\"\n                            onClick={() => toggleSet(exercise.id, set.id)}\n                            style={\n                              !set.completed\n                                ? { backgroundColor: \"var(--brand)\" }\n                                : undefined\n                            }\n                          >\n                            {set.completed ? (\n                              <RotateCcw className=\"size-4\" />\n                            ) : (\n                              <Check className=\"size-4\" />\n                            )}\n                          </Button>\n                        </div>\n                      ))}\n\n                      {/* Add Set Button */}\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"mt-2 w-full\"\n                        onClick={() => {\n                          setExercises((prev) =>\n                            prev.map((ex) => {\n                              if (ex.id !== exercise.id) return ex\n                              return {\n                                ...ex,\n                                sets: [\n                                  ...ex.sets,\n                                  {\n                                    id: `${ex.id}-${ex.sets.length + 1}`,\n                                    reps: null,\n                                    weight: null,\n                                    completed: false,\n                                  },\n                                ],\n                              }\n                            })\n                          )\n                        }}\n                      >\n                        <Plus className=\"mr-1 size-3\" /> Add Set\n                      </Button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n\n        {/* Add Exercise */}\n        <Button variant=\"outline\" className=\"w-full\">\n          <Plus className=\"mr-2 size-4\" /> Add Exercise\n        </Button>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:block"
    }
  ],
  "categories": [
    "application"
  ],
  "tier": "free",
  "readiness": "alpha",
  "blockConfig": {
    "template": "app-gym-tracker",
    "blockType": "view",
    "order": 2,
    "palette": "sage",
    "typography": "modern",
    "tint": "base"
  }
}