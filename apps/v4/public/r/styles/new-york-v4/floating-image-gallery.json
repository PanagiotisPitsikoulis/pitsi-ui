{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "floating-image-gallery",
  "type": "registry:ui",
  "description": "A floating image gallery where images move at different speeds based on mouse movement.",
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/animations/floating-image-gallery/floating-image-gallery.tsx",
      "content": "\"use client\"\n\nimport type { ReactNode } from \"react\"\nimport { useCallback, useEffect, useRef, useState } from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type FloatingImageGalleryProps = {\n  /** Array of image layers. Each layer moves at different speed */\n  layers: Array<{\n    images: Array<{\n      src: string\n      alt?: string\n      width?: number\n      style?: React.CSSProperties\n    }>\n    speed?: number\n    brightness?: number\n  }>\n  /** Content to display in the center */\n  children?: ReactNode\n  /** Speed multiplier for mouse movement. Default: 0.01 */\n  speed?: number\n  /** Easing factor for animation smoothness. Default: 0.08 */\n  easing?: number\n  /** Additional CSS classes */\n  className?: string\n}\n\n/**\n * A floating image gallery where images move at different speeds based on mouse movement.\n * Creates a parallax-like depth effect with multiple layers.\n */\nexport function FloatingImageGallery({\n  layers,\n  children,\n  speed = 0.01,\n  easing = 0.08,\n  className,\n}: FloatingImageGalleryProps) {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const layerRefs = useRef<(HTMLDivElement | null)[]>([])\n  const requestAnimationFrameId = useRef<number | null>(null)\n  const xForce = useRef(0)\n  const yForce = useRef(0)\n\n  const lerp = (start: number, target: number, amount: number) =>\n    start * (1 - amount) + target * amount\n\n  const animate = useCallback(() => {\n    xForce.current = lerp(xForce.current, 0, easing)\n    yForce.current = lerp(yForce.current, 0, easing)\n\n    layerRefs.current.forEach((ref, i) => {\n      if (ref) {\n        const layerSpeed = layers[i]?.speed ?? 1 - i * 0.25\n        const x = xForce.current * layerSpeed\n        const y = yForce.current * layerSpeed\n\n        ref.style.transform = `translate(${x}px, ${y}px)`\n      }\n    })\n\n    if (Math.abs(xForce.current) < 0.01) xForce.current = 0\n    if (Math.abs(yForce.current) < 0.01) yForce.current = 0\n\n    if (xForce.current !== 0 || yForce.current !== 0) {\n      requestAnimationFrameId.current = requestAnimationFrame(animate)\n    } else {\n      if (requestAnimationFrameId.current) {\n        cancelAnimationFrame(requestAnimationFrameId.current)\n      }\n      requestAnimationFrameId.current = null\n    }\n  }, [easing, layers])\n\n  const handleMouseMove = useCallback(\n    (e: React.MouseEvent) => {\n      const { movementX, movementY } = e\n      xForce.current += movementX * speed\n      yForce.current += movementY * speed\n\n      if (requestAnimationFrameId.current === null) {\n        requestAnimationFrameId.current = requestAnimationFrame(animate)\n      }\n    },\n    [speed, animate]\n  )\n\n  useEffect(() => {\n    return () => {\n      if (requestAnimationFrameId.current) {\n        cancelAnimationFrame(requestAnimationFrameId.current)\n      }\n    }\n  }, [])\n\n  return (\n    <div\n      ref={containerRef}\n      onMouseMove={handleMouseMove}\n      className={cn(\n        \"relative h-screen w-screen overflow-hidden bg-black\",\n        className\n      )}\n    >\n      {layers.map((layer, layerIndex) => (\n        <div\n          key={layerIndex}\n          ref={(el) => {\n            layerRefs.current[layerIndex] = el\n          }}\n          className=\"absolute h-full w-full\"\n          style={{\n            filter: `brightness(${layer.brightness ?? 1 - layerIndex * 0.1})`,\n          }}\n        >\n          {layer.images.map((image, imageIndex) => (\n            <img\n              key={imageIndex}\n              src={image.src}\n              alt={\n                image.alt ?? `Layer ${layerIndex + 1} image ${imageIndex + 1}`\n              }\n              width={image.width ?? 300}\n              className=\"absolute object-cover\"\n              style={image.style}\n            />\n          ))}\n        </div>\n      ))}\n\n      {children && (\n        <div className=\"absolute top-[45%] left-1/2 z-10 -translate-x-1/2 -translate-y-1/2 text-center\">\n          {children}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default FloatingImageGallery\n",
      "type": "registry:ui"
    }
  ],
  "categories": [
    "animations"
  ],
  "tier": "free",
  "readiness": "beta",
  "poweredBy": [
    {
      "name": "Skiper UI",
      "url": "https://skiper-ui.com"
    }
  ]
}