{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "app-workout-log-1",
  "type": "registry:block",
  "description": "Workout logging interface with exercise selection and set tracking",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "card",
    "input",
    "label",
    "select",
    "utils"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/blocks/application/app-workout-log-1.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport {\n  Check,\n  ChevronDown,\n  Dumbbell,\n  Minus,\n  Plus,\n  Timer,\n  Trash2,\n  X,\n} from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n} from \"@/registry/new-york-v4/ui/card\"\nimport { Input } from \"@/registry/new-york-v4/ui/input\"\nimport { Label } from \"@/registry/new-york-v4/ui/label\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/registry/new-york-v4/ui/select\"\n\nconst exerciseLibrary = [\n  { id: \"bench\", name: \"Bench Press\", category: \"Chest\", lastWeight: 100 },\n  { id: \"squat\", name: \"Squat\", category: \"Legs\", lastWeight: 140 },\n  { id: \"deadlift\", name: \"Deadlift\", category: \"Back\", lastWeight: 160 },\n  { id: \"ohp\", name: \"Overhead Press\", category: \"Shoulders\", lastWeight: 60 },\n  { id: \"row\", name: \"Barbell Row\", category: \"Back\", lastWeight: 80 },\n  { id: \"pullup\", name: \"Pull-ups\", category: \"Back\", lastWeight: 0 },\n  { id: \"dips\", name: \"Dips\", category: \"Chest\", lastWeight: 0 },\n  { id: \"curl\", name: \"Barbell Curl\", category: \"Arms\", lastWeight: 35 },\n]\n\nconst workoutTypes = [\n  { id: \"push\", name: \"Push Day\", exercises: [\"bench\", \"ohp\", \"dips\"] },\n  {\n    id: \"pull\",\n    name: \"Pull Day\",\n    exercises: [\"deadlift\", \"row\", \"pullup\", \"curl\"],\n  },\n  { id: \"legs\", name: \"Leg Day\", exercises: [\"squat\"] },\n  { id: \"custom\", name: \"Custom Workout\", exercises: [] },\n]\n\ninterface WorkoutSet {\n  id: string\n  weight: number\n  reps: number\n  completed: boolean\n}\n\ninterface WorkoutExercise {\n  id: string\n  exerciseId: string\n  sets: WorkoutSet[]\n}\n\nexport function AppWorkoutLog1() {\n  const [selectedWorkoutType, setSelectedWorkoutType] =\n    React.useState<string>(\"\")\n  const [workoutStarted, setWorkoutStarted] = React.useState(false)\n  const [workoutExercises, setWorkoutExercises] = React.useState<\n    WorkoutExercise[]\n  >([])\n  const [elapsedTime, setElapsedTime] = React.useState(0)\n\n  // Timer effect\n  React.useEffect(() => {\n    let interval: NodeJS.Timeout | null = null\n    if (workoutStarted) {\n      interval = setInterval(() => {\n        setElapsedTime((prev) => prev + 1)\n      }, 1000)\n    }\n    return () => {\n      if (interval) clearInterval(interval)\n    }\n  }, [workoutStarted])\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`\n  }\n\n  const startWorkout = () => {\n    if (!selectedWorkoutType) return\n\n    const workoutType = workoutTypes.find((w) => w.id === selectedWorkoutType)\n    if (!workoutType) return\n\n    const exercises: WorkoutExercise[] = workoutType.exercises.map((exId) => {\n      const exercise = exerciseLibrary.find((e) => e.id === exId)\n      return {\n        id: crypto.randomUUID(),\n        exerciseId: exId,\n        sets: [\n          {\n            id: crypto.randomUUID(),\n            weight: exercise?.lastWeight || 0,\n            reps: 5,\n            completed: false,\n          },\n          {\n            id: crypto.randomUUID(),\n            weight: exercise?.lastWeight || 0,\n            reps: 5,\n            completed: false,\n          },\n          {\n            id: crypto.randomUUID(),\n            weight: exercise?.lastWeight || 0,\n            reps: 5,\n            completed: false,\n          },\n        ],\n      }\n    })\n\n    setWorkoutExercises(exercises)\n    setWorkoutStarted(true)\n    setElapsedTime(0)\n  }\n\n  const addExercise = (exerciseId: string) => {\n    const exercise = exerciseLibrary.find((e) => e.id === exerciseId)\n    if (!exercise) return\n\n    setWorkoutExercises((prev) => [\n      ...prev,\n      {\n        id: crypto.randomUUID(),\n        exerciseId,\n        sets: [\n          {\n            id: crypto.randomUUID(),\n            weight: exercise.lastWeight,\n            reps: 5,\n            completed: false,\n          },\n          {\n            id: crypto.randomUUID(),\n            weight: exercise.lastWeight,\n            reps: 5,\n            completed: false,\n          },\n          {\n            id: crypto.randomUUID(),\n            weight: exercise.lastWeight,\n            reps: 5,\n            completed: false,\n          },\n        ],\n      },\n    ])\n  }\n\n  const removeExercise = (exerciseWorkoutId: string) => {\n    setWorkoutExercises((prev) =>\n      prev.filter((e) => e.id !== exerciseWorkoutId)\n    )\n  }\n\n  const addSet = (exerciseWorkoutId: string) => {\n    setWorkoutExercises((prev) =>\n      prev.map((e) => {\n        if (e.id !== exerciseWorkoutId) return e\n        const lastSet = e.sets[e.sets.length - 1]\n        return {\n          ...e,\n          sets: [\n            ...e.sets,\n            {\n              id: crypto.randomUUID(),\n              weight: lastSet?.weight || 0,\n              reps: lastSet?.reps || 5,\n              completed: false,\n            },\n          ],\n        }\n      })\n    )\n  }\n\n  const updateSet = (\n    exerciseWorkoutId: string,\n    setId: string,\n    field: \"weight\" | \"reps\" | \"completed\",\n    value: number | boolean\n  ) => {\n    setWorkoutExercises((prev) =>\n      prev.map((e) => {\n        if (e.id !== exerciseWorkoutId) return e\n        return {\n          ...e,\n          sets: e.sets.map((s) => {\n            if (s.id !== setId) return s\n            return { ...s, [field]: value }\n          }),\n        }\n      })\n    )\n  }\n\n  const removeSet = (exerciseWorkoutId: string, setId: string) => {\n    setWorkoutExercises((prev) =>\n      prev.map((e) => {\n        if (e.id !== exerciseWorkoutId) return e\n        return {\n          ...e,\n          sets: e.sets.filter((s) => s.id !== setId),\n        }\n      })\n    )\n  }\n\n  const totalVolume = workoutExercises.reduce((total, exercise) => {\n    return (\n      total +\n      exercise.sets\n        .filter((s) => s.completed)\n        .reduce((sum, s) => sum + s.weight * s.reps, 0)\n    )\n  }, 0)\n\n  const completedSets = workoutExercises.reduce(\n    (total, e) => total + e.sets.filter((s) => s.completed).length,\n    0\n  )\n\n  const totalSets = workoutExercises.reduce(\n    (total, e) => total + e.sets.length,\n    0\n  )\n\n  if (!workoutStarted) {\n    return (\n      <div className=\"p-4\">\n        <div className=\"mx-auto max-w-5xl space-y-4\">\n          <div>\n            <h1 className=\"text-foreground text-3xl font-bold tracking-tight\">\n              Log Workout\n            </h1>\n            <p className=\"text-muted-foreground\">Start a new workout session</p>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Choose Workout Type</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid gap-3\">\n                {workoutTypes.map((type) => (\n                  <button\n                    key={type.id}\n                    onClick={() => setSelectedWorkoutType(type.id)}\n                    className={cn(\n                      \"flex items-center justify-between rounded-lg border p-4 text-left transition-colors\",\n                      selectedWorkoutType === type.id\n                        ? \"border-foreground/30 bg-muted\"\n                        : \"hover:bg-muted/50\"\n                    )}\n                  >\n                    <div>\n                      <p className=\"font-medium\">{type.name}</p>\n                      <p className=\"text-muted-foreground text-sm\">\n                        {type.exercises.length > 0\n                          ? type.exercises\n                              .map(\n                                (id) =>\n                                  exerciseLibrary.find((e) => e.id === id)?.name\n                              )\n                              .join(\", \")\n                          : \"Build your own workout\"}\n                      </p>\n                    </div>\n                    {selectedWorkoutType === type.id && (\n                      <Check className=\"text-foreground size-5\" />\n                    )}\n                  </button>\n                ))}\n              </div>\n\n              <Button\n                onClick={startWorkout}\n                disabled={!selectedWorkoutType}\n                className=\"w-full\"\n              >\n                <Dumbbell className=\"mr-2 size-4\" />\n                Start Workout\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"mx-auto max-w-5xl space-y-4\">\n        {/* Header with timer */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-foreground text-3xl font-bold tracking-tight\">\n              {workoutTypes.find((w) => w.id === selectedWorkoutType)?.name}\n            </h1>\n            <p className=\"text-muted-foreground\">\n              {completedSets} / {totalSets} sets completed\n            </p>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-right\">\n              <div className=\"flex items-center gap-2 text-2xl font-bold\">\n                <Timer className=\"text-muted-foreground size-5\" />\n                {formatTime(elapsedTime)}\n              </div>\n              <p className=\"text-muted-foreground text-sm\">\n                Volume: {totalVolume.toLocaleString()} kg\n              </p>\n            </div>\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                setWorkoutStarted(false)\n                setWorkoutExercises([])\n                setElapsedTime(0)\n              }}\n            >\n              <X className=\"mr-2 size-4\" />\n              End\n            </Button>\n          </div>\n        </div>\n\n        {/* Exercise cards */}\n        <div className=\"space-y-4\">\n          {workoutExercises.map((workoutExercise) => {\n            const exercise = exerciseLibrary.find(\n              (e) => e.id === workoutExercise.exerciseId\n            )\n            if (!exercise) return null\n\n            return (\n              <Card key={workoutExercise.id}>\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"bg-muted flex size-10 items-center justify-center rounded-lg\">\n                        <Dumbbell className=\"text-muted-foreground size-5\" />\n                      </div>\n                      <div>\n                        <CardTitle className=\"text-base\">\n                          {exercise.name}\n                        </CardTitle>\n                        <p className=\"text-muted-foreground text-xs\">\n                          {exercise.category}\n                        </p>\n                      </div>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => removeExercise(workoutExercise.id)}\n                    >\n                      <Trash2 className=\"text-destructive size-4\" />\n                    </Button>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  {/* Header row */}\n                  <div className=\"text-muted-foreground grid grid-cols-[auto_1fr_1fr_auto] gap-3 px-1 text-xs font-medium\">\n                    <div className=\"w-8\">Set</div>\n                    <div>Weight (kg)</div>\n                    <div>Reps</div>\n                    <div className=\"w-16\"></div>\n                  </div>\n\n                  {/* Sets */}\n                  {workoutExercise.sets.map((set, setIndex) => (\n                    <div\n                      key={set.id}\n                      className={cn(\n                        \"grid grid-cols-[auto_1fr_1fr_auto] items-center gap-3 rounded-lg p-1\",\n                        set.completed && \"bg-muted/50\"\n                      )}\n                    >\n                      <div className=\"text-muted-foreground w-8 text-center text-sm font-medium\">\n                        {setIndex + 1}\n                      </div>\n                      <Input\n                        type=\"number\"\n                        value={set.weight}\n                        onChange={(e) =>\n                          updateSet(\n                            workoutExercise.id,\n                            set.id,\n                            \"weight\",\n                            parseFloat(e.target.value) || 0\n                          )\n                        }\n                        className=\"h-9\"\n                        disabled={set.completed}\n                      />\n                      <Input\n                        type=\"number\"\n                        value={set.reps}\n                        onChange={(e) =>\n                          updateSet(\n                            workoutExercise.id,\n                            set.id,\n                            \"reps\",\n                            parseInt(e.target.value) || 0\n                          )\n                        }\n                        className=\"h-9\"\n                        disabled={set.completed}\n                      />\n                      <div className=\"flex w-16 gap-1\">\n                        <Button\n                          variant={set.completed ? \"default\" : \"outline\"}\n                          size=\"icon\"\n                          className=\"size-9\"\n                          onClick={() =>\n                            updateSet(\n                              workoutExercise.id,\n                              set.id,\n                              \"completed\",\n                              !set.completed\n                            )\n                          }\n                        >\n                          <Check className=\"size-4\" />\n                        </Button>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"size-9\"\n                          onClick={() => removeSet(workoutExercise.id, set.id)}\n                        >\n                          <Minus className=\"size-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => addSet(workoutExercise.id)}\n                    className=\"w-full\"\n                  >\n                    <Plus className=\"mr-2 size-3\" />\n                    Add Set\n                  </Button>\n                </CardContent>\n              </Card>\n            )\n          })}\n        </div>\n\n        {/* Add exercise */}\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex gap-3\">\n              <Select onValueChange={addExercise}>\n                <SelectTrigger className=\"flex-1\">\n                  <SelectValue placeholder=\"Add exercise...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {exerciseLibrary.map((exercise) => (\n                    <SelectItem key={exercise.id} value={exercise.id}>\n                      {exercise.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Finish workout button */}\n        <Button className=\"w-full\" size=\"lg\" disabled={completedSets === 0}>\n          <Check className=\"mr-2 size-5\" />\n          Finish Workout\n        </Button>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:block"
    }
  ],
  "categories": [
    "application",
    "app-gym-tracker"
  ],
  "tier": "free",
  "readiness": "beta"
}