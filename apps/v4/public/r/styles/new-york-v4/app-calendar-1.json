{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "app-calendar-1",
  "type": "registry:block",
  "description": "Workout calendar with monthly view and workout indicators",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "card",
    "utils"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/blocks/application/app-calendar-1.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight, Dumbbell, Flame } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n} from \"@/registry/new-york-v4/ui/card\"\n\n// Mock workout data\nconst workoutHistory: Record<\n  string,\n  { type: string; exercises: number; volume: number }\n> = {\n  \"2024-01-02\": { type: \"Push\", exercises: 5, volume: 4200 },\n  \"2024-01-04\": { type: \"Pull\", exercises: 6, volume: 5100 },\n  \"2024-01-05\": { type: \"Legs\", exercises: 5, volume: 6800 },\n  \"2024-01-08\": { type: \"Push\", exercises: 5, volume: 4350 },\n  \"2024-01-10\": { type: \"Pull\", exercises: 6, volume: 5200 },\n  \"2024-01-12\": { type: \"Legs\", exercises: 5, volume: 7100 },\n  \"2024-01-15\": { type: \"Push\", exercises: 5, volume: 4500 },\n  \"2024-01-17\": { type: \"Pull\", exercises: 6, volume: 5350 },\n  \"2024-01-19\": { type: \"Legs\", exercises: 5, volume: 7200 },\n  \"2024-01-22\": { type: \"Push\", exercises: 5, volume: 4650 },\n  \"2024-01-24\": { type: \"Pull\", exercises: 6, volume: 5500 },\n  \"2024-01-26\": { type: \"Legs\", exercises: 5, volume: 7400 },\n  \"2024-01-29\": { type: \"Push\", exercises: 5, volume: 4800 },\n}\n\nconst DAYS = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\nconst MONTHS = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\",\n]\n\nfunction getDaysInMonth(year: number, month: number): number {\n  return new Date(year, month + 1, 0).getDate()\n}\n\nfunction getFirstDayOfMonth(year: number, month: number): number {\n  return new Date(year, month, 1).getDay()\n}\n\nfunction formatDateKey(year: number, month: number, day: number): string {\n  return `${year}-${String(month + 1).padStart(2, \"0\")}-${String(day).padStart(2, \"0\")}`\n}\n\nexport function AppCalendar1() {\n  const [currentDate, setCurrentDate] = React.useState(new Date(2024, 0, 1)) // January 2024 for demo\n  const [selectedDate, setSelectedDate] = React.useState<string | null>(null)\n\n  const year = currentDate.getFullYear()\n  const month = currentDate.getMonth()\n  const daysInMonth = getDaysInMonth(year, month)\n  const firstDay = getFirstDayOfMonth(year, month)\n\n  const prevMonth = () => {\n    setCurrentDate(new Date(year, month - 1, 1))\n    setSelectedDate(null)\n  }\n\n  const nextMonth = () => {\n    setCurrentDate(new Date(year, month + 1, 1))\n    setSelectedDate(null)\n  }\n\n  // Calculate stats for the month\n  const monthWorkouts = Object.entries(workoutHistory).filter(([date]) => {\n    const d = new Date(date)\n    return d.getFullYear() === year && d.getMonth() === month\n  })\n\n  const totalWorkouts = monthWorkouts.length\n  const totalVolume = monthWorkouts.reduce((sum, [, w]) => sum + w.volume, 0)\n\n  // Calculate streak\n  const calculateStreak = () => {\n    const today = new Date(2024, 0, 29) // Mock \"today\" for demo\n    let streak = 0\n    let currentDay = new Date(today)\n\n    while (true) {\n      const key = formatDateKey(\n        currentDay.getFullYear(),\n        currentDay.getMonth(),\n        currentDay.getDate()\n      )\n      if (workoutHistory[key]) {\n        streak++\n        currentDay.setDate(currentDay.getDate() - 1)\n      } else {\n        // Allow one rest day\n        currentDay.setDate(currentDay.getDate() - 1)\n        const prevKey = formatDateKey(\n          currentDay.getFullYear(),\n          currentDay.getMonth(),\n          currentDay.getDate()\n        )\n        if (workoutHistory[prevKey]) {\n          continue\n        }\n        break\n      }\n      if (streak > 30) break // Safety limit\n    }\n    return streak\n  }\n\n  const streak = calculateStreak()\n\n  // Generate calendar days\n  const calendarDays: (number | null)[] = []\n  for (let i = 0; i < firstDay; i++) {\n    calendarDays.push(null)\n  }\n  for (let day = 1; day <= daysInMonth; day++) {\n    calendarDays.push(day)\n  }\n\n  const selectedWorkout = selectedDate ? workoutHistory[selectedDate] : null\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"mx-auto max-w-5xl space-y-4\">\n        {/* Header */}\n        <div>\n          <h1 className=\"text-foreground text-3xl font-bold tracking-tight\">\n            Calendar\n          </h1>\n          <p className=\"text-muted-foreground\">Track your workout schedule</p>\n        </div>\n\n        {/* Stats row */}\n        <div className=\"grid gap-4 sm:grid-cols-3\">\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"bg-muted flex size-10 items-center justify-center rounded-lg\">\n                  <Dumbbell className=\"text-muted-foreground size-5\" />\n                </div>\n                <div>\n                  <p className=\"text-2xl font-bold\">{totalWorkouts}</p>\n                  <p className=\"text-muted-foreground text-sm\">\n                    Workouts this month\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"bg-muted flex size-10 items-center justify-center rounded-lg\">\n                  <Flame className=\"text-muted-foreground size-5\" />\n                </div>\n                <div>\n                  <p className=\"text-2xl font-bold\">{streak}</p>\n                  <p className=\"text-muted-foreground text-sm\">Day streak</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"bg-muted flex size-10 items-center justify-center rounded-lg\">\n                  <span className=\"text-muted-foreground text-sm font-bold\">\n                    kg\n                  </span>\n                </div>\n                <div>\n                  <p className=\"text-2xl font-bold\">\n                    {(totalVolume / 1000).toFixed(1)}k\n                  </p>\n                  <p className=\"text-muted-foreground text-sm\">\n                    Total volume (kg)\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <div className=\"grid gap-6 lg:grid-cols-[1fr_300px]\">\n          {/* Calendar */}\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <Button variant=\"ghost\" size=\"icon\" onClick={prevMonth}>\n                  <ChevronLeft className=\"size-5\" />\n                </Button>\n                <CardTitle className=\"text-lg\">\n                  {MONTHS[month]} {year}\n                </CardTitle>\n                <Button variant=\"ghost\" size=\"icon\" onClick={nextMonth}>\n                  <ChevronRight className=\"size-5\" />\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {/* Day headers */}\n              <div className=\"mb-2 grid grid-cols-7 gap-1\">\n                {DAYS.map((day) => (\n                  <div\n                    key={day}\n                    className=\"text-muted-foreground py-2 text-center text-xs font-medium\"\n                  >\n                    {day}\n                  </div>\n                ))}\n              </div>\n\n              {/* Calendar grid */}\n              <div className=\"grid grid-cols-7 gap-1\">\n                {calendarDays.map((day, i) => {\n                  if (day === null) {\n                    return <div key={`empty-${i}`} className=\"aspect-square\" />\n                  }\n\n                  const dateKey = formatDateKey(year, month, day)\n                  const workout = workoutHistory[dateKey]\n                  const isSelected = selectedDate === dateKey\n                  const isToday = dateKey === \"2024-01-29\" // Mock today\n\n                  return (\n                    <button\n                      key={day}\n                      onClick={() => setSelectedDate(workout ? dateKey : null)}\n                      className={cn(\n                        \"relative flex aspect-square flex-col items-center justify-center gap-0.5 rounded-lg text-sm transition-colors\",\n                        workout && \"cursor-pointer\",\n                        !workout && \"text-muted-foreground cursor-default\",\n                        isSelected && \"ring-foreground/20 ring-2 ring-offset-2\",\n                        isToday && \"font-bold\",\n                        workout && !isSelected && \"bg-muted\",\n                        workout && isSelected && \"bg-foreground text-background\"\n                      )}\n                    >\n                      <span>{day}</span>\n                      {workout && <Dumbbell className=\"size-3\" />}\n                    </button>\n                  )\n                })}\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Selected workout details */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-base\">Workout Details</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {selectedWorkout ? (\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"bg-muted flex size-12 items-center justify-center rounded-lg\">\n                      <Dumbbell className=\"text-muted-foreground size-6\" />\n                    </div>\n                    <div>\n                      <p className=\"font-semibold\">\n                        {selectedWorkout.type} Day\n                      </p>\n                      <p className=\"text-muted-foreground text-sm\">\n                        {selectedDate}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-3 pt-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-muted-foreground text-sm\">\n                        Exercises\n                      </span>\n                      <span className=\"font-medium\">\n                        {selectedWorkout.exercises}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-muted-foreground text-sm\">\n                        Total Volume\n                      </span>\n                      <span className=\"font-medium\">\n                        {selectedWorkout.volume.toLocaleString()} kg\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-muted-foreground py-8 text-center\">\n                  <Dumbbell className=\"mx-auto mb-2 size-8 opacity-30\" />\n                  <p className=\"text-sm\">Select a workout day to see details</p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:block"
    }
  ],
  "categories": [
    "application",
    "app-gym-tracker"
  ],
  "tier": "free",
  "readiness": "beta"
}