{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "app-quiz-active-1",
  "type": "registry:block",
  "description": "Active quiz interface with timer and question display",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "card",
    "utils"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/blocks/application/app-quiz-active-1.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight, Clock, X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n} from \"@/registry/new-york-v4/ui/card\"\nimport { Progress } from \"@/registry/new-york-v4/ui/progress\"\n\nconst quizData = {\n  title: \"JavaScript Fundamentals\",\n  questions: [\n    {\n      id: 1,\n      question:\n        \"What is the correct syntax for referring to an external script called 'script.js'?\",\n      options: [\n        \"<script href='script.js'>\",\n        \"<script name='script.js'>\",\n        \"<script src='script.js'>\",\n        \"<script file='script.js'>\",\n      ],\n      correct: 2,\n    },\n    {\n      id: 2,\n      question: \"How do you write 'Hello World' in an alert box?\",\n      options: [\n        \"alertBox('Hello World')\",\n        \"msg('Hello World')\",\n        \"alert('Hello World')\",\n        \"msgBox('Hello World')\",\n      ],\n      correct: 2,\n    },\n    {\n      id: 3,\n      question: \"How do you create a function in JavaScript?\",\n      options: [\n        \"function = myFunction()\",\n        \"function myFunction()\",\n        \"function:myFunction()\",\n        \"create myFunction()\",\n      ],\n      correct: 1,\n    },\n    {\n      id: 4,\n      question: \"How do you call a function named 'myFunction'?\",\n      options: [\n        \"call myFunction()\",\n        \"call function myFunction()\",\n        \"myFunction()\",\n        \"execute myFunction()\",\n      ],\n      correct: 2,\n    },\n    {\n      id: 5,\n      question: \"How to write an IF statement in JavaScript?\",\n      options: [\"if i = 5 then\", \"if (i == 5)\", \"if i == 5\", \"if i = 5\"],\n      correct: 1,\n    },\n  ],\n}\n\ninterface QuizActiveProps {\n  onComplete?: (score: number, total: number) => void\n  onExit?: () => void\n}\n\nexport function AppQuizActive1({ onComplete, onExit }: QuizActiveProps) {\n  const [currentQuestion, setCurrentQuestion] = React.useState(0)\n  const [selectedAnswers, setSelectedAnswers] = React.useState<\n    (number | null)[]\n  >(new Array(quizData.questions.length).fill(null))\n  const [timeLeft, setTimeLeft] = React.useState(600) // 10 minutes\n\n  React.useEffect(() => {\n    const timer = setInterval(() => {\n      setTimeLeft((prev) => {\n        if (prev <= 0) {\n          clearInterval(timer)\n          handleSubmit()\n          return 0\n        }\n        return prev - 1\n      })\n    }, 1000)\n    return () => clearInterval(timer)\n  }, [])\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`\n  }\n\n  const handleSelectAnswer = (optionIndex: number) => {\n    const newAnswers = [...selectedAnswers]\n    newAnswers[currentQuestion] = optionIndex\n    setSelectedAnswers(newAnswers)\n  }\n\n  const handleNext = () => {\n    if (currentQuestion < quizData.questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1)\n    }\n  }\n\n  const handlePrev = () => {\n    if (currentQuestion > 0) {\n      setCurrentQuestion(currentQuestion - 1)\n    }\n  }\n\n  const handleSubmit = () => {\n    const score = selectedAnswers.reduce((acc, answer, index) => {\n      return acc + (answer === quizData.questions[index].correct ? 1 : 0)\n    }, 0)\n    onComplete?.(score, quizData.questions.length)\n  }\n\n  const question = quizData.questions[currentQuestion]\n  const progress = ((currentQuestion + 1) / quizData.questions.length) * 100\n  const answeredCount = selectedAnswers.filter((a) => a !== null).length\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"mx-auto max-w-5xl space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-foreground text-2xl font-bold tracking-tight\">\n              {quizData.title}\n            </h1>\n            <p className=\"text-muted-foreground\">\n              Question {currentQuestion + 1} of {quizData.questions.length}\n            </p>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex items-center gap-2 text-lg font-medium\">\n              <Clock className=\"text-muted-foreground size-5\" />\n              {formatTime(timeLeft)}\n            </div>\n            <Button variant=\"outline\" size=\"icon\" onClick={onExit}>\n              <X className=\"size-4\" />\n            </Button>\n          </div>\n        </div>\n\n        <Progress value={progress} className=\"h-2\" />\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">{question.question}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            {question.options.map((option, index) => (\n              <button\n                key={index}\n                onClick={() => handleSelectAnswer(index)}\n                className={cn(\n                  \"w-full rounded-lg border p-4 text-left transition-colors\",\n                  selectedAnswers[currentQuestion] === index\n                    ? \"border-foreground/30 bg-muted\"\n                    : \"hover:bg-muted/50\"\n                )}\n              >\n                <span className=\"text-muted-foreground mr-3 font-medium\">\n                  {String.fromCharCode(65 + index)}.\n                </span>\n                {option}\n              </button>\n            ))}\n          </CardContent>\n        </Card>\n\n        <div className=\"flex items-center justify-between\">\n          <Button\n            variant=\"outline\"\n            onClick={handlePrev}\n            disabled={currentQuestion === 0}\n          >\n            <ChevronLeft className=\"mr-2 size-4\" />\n            Previous\n          </Button>\n\n          <div className=\"text-muted-foreground text-sm\">\n            {answeredCount} of {quizData.questions.length} answered\n          </div>\n\n          {currentQuestion === quizData.questions.length - 1 ? (\n            <Button\n              onClick={handleSubmit}\n              disabled={answeredCount < quizData.questions.length}\n            >\n              Submit Quiz\n            </Button>\n          ) : (\n            <Button onClick={handleNext}>\n              Next\n              <ChevronRight className=\"ml-2 size-4\" />\n            </Button>\n          )}\n        </div>\n\n        <div className=\"flex justify-center gap-2\">\n          {quizData.questions.map((_, index) => (\n            <button\n              key={index}\n              onClick={() => setCurrentQuestion(index)}\n              className={cn(\n                \"size-8 rounded-lg text-sm font-medium transition-colors\",\n                currentQuestion === index\n                  ? \"bg-foreground text-background\"\n                  : selectedAnswers[index] !== null\n                    ? \"bg-muted\"\n                    : \"hover:bg-muted/50 border\"\n              )}\n            >\n              {index + 1}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:block"
    }
  ],
  "categories": [
    "application",
    "app-quiz"
  ],
  "tier": "free",
  "readiness": "beta"
}