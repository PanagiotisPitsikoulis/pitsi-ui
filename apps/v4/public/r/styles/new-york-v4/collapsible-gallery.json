{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "collapsible-gallery",
  "type": "registry:ui",
  "registryDependencies": [
    "collapsible"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/ui/collapsible-gallery.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\n\nimport { ChevronDown } from \"@/lib/icons\"\nimport { cn } from \"@/lib/utils\"\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"@/registry/new-york-v4/ui/collapsible\"\n\n/* -----------------------------------------------------------------------------\n * Types\n * -------------------------------------------------------------------------- */\n\nexport interface CollapsibleGalleryProps<T> {\n  /** Title displayed in the header */\n  title: string\n  /** Array of items to display */\n  items: T[]\n  /** Render function for each item */\n  renderItem: (item: T, index: number) => React.ReactNode\n  /** Unique key extractor for each item */\n  keyExtractor: (item: T, index: number) => string\n  /** Width of each item in collapsed horizontal scroll mode */\n  itemWidth?: number\n  /** Number of grid columns in expanded mode (responsive) */\n  gridCols?: {\n    default?: number\n    md?: number\n    lg?: number\n  }\n  /** Text for expand button */\n  expandText?: string\n  /** Text for collapse button */\n  collapseText?: string\n  /** Additional class name for the root element */\n  className?: string\n  /** Default open state */\n  defaultOpen?: boolean\n  /** Custom render function for expanded content (overrides default grid) */\n  renderExpandedContent?: () => React.ReactNode\n}\n\n/* -----------------------------------------------------------------------------\n * CollapsibleGallery\n * -------------------------------------------------------------------------- */\n\nfunction CollapsibleGallery<T>({\n  title,\n  items,\n  renderItem,\n  keyExtractor,\n  itemWidth = 280,\n  gridCols = { default: 1, md: 2, lg: 3 },\n  expandText = \"View all\",\n  collapseText = \"Collapse\",\n  className,\n  defaultOpen = false,\n  renderExpandedContent,\n}: CollapsibleGalleryProps<T>) {\n  // Build grid classes\n  const gridClassName = cn(\n    \"grid gap-6\",\n    gridCols.default && `grid-cols-${gridCols.default}`,\n    gridCols.md && `md:grid-cols-${gridCols.md}`,\n    gridCols.lg && `lg:grid-cols-${gridCols.lg}`\n  )\n\n  return (\n    <div\n      data-slot=\"collapsible-gallery\"\n      className={cn(\"bg-muted rounded-xl p-4\", className)}\n    >\n      <Collapsible className=\"group/collapsible\" defaultOpen={defaultOpen}>\n        {/* Header */}\n        <div className=\"mb-4 flex items-center justify-between\">\n          <h2 className=\"text-muted-foreground text-sm font-medium\">{title}</h2>\n          <CollapsibleTrigger className=\"text-muted-foreground hover:text-foreground focus-visible:ring-ring/50 flex items-center gap-1 rounded text-sm transition-colors focus-visible:ring-[3px] focus-visible:outline-none\">\n            <span className=\"group-data-[state=open]/collapsible:hidden\">\n              {expandText}\n            </span>\n            <span className=\"group-data-[state=closed]/collapsible:hidden\">\n              {collapseText}\n            </span>\n            <ChevronDown className=\"size-4 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-180\" />\n          </CollapsibleTrigger>\n        </div>\n\n        {/* Collapsed: Horizontal scroll */}\n        <div className=\"relative -mx-2 px-2 group-data-[state=open]/collapsible:hidden\">\n          <div className=\"no-scrollbar flex gap-6 overflow-x-auto pb-2\">\n            {items.map((item, index) => (\n              <div\n                key={keyExtractor(item, index)}\n                className=\"shrink-0\"\n                style={{ width: itemWidth }}\n              >\n                {renderItem(item, index)}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Expanded: Grid or custom content */}\n        <CollapsibleContent>\n          {renderExpandedContent ? (\n            renderExpandedContent()\n          ) : (\n            <div className={gridClassName}>\n              {items.map((item, index) => (\n                <div key={keyExtractor(item, index)}>\n                  {renderItem(item, index)}\n                </div>\n              ))}\n            </div>\n          )}\n        </CollapsibleContent>\n      </Collapsible>\n    </div>\n  )\n}\n\nexport { CollapsibleGallery }\n",
      "type": "registry:ui"
    }
  ],
  "categories": [
    "application"
  ],
  "tier": "free",
  "readiness": "production"
}