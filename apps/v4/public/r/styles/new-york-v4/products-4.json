{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "products-4",
  "type": "registry:block",
  "description": "Horizontal product carousel with quick add",
  "registryDependencies": [
    "button"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/blocks/products/products-4.tsx",
      "content": "\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport Image from \"next/image\"\nimport Link from \"next/link\"\n\nimport { DynamicIcon } from \"@/lib/blocks/dynamic-icon\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\n\ninterface ProductsBlockProps {\n  content?: {\n    title?: string\n    categories?: string[]\n    products?: Array<{\n      name: string\n      price: number\n      image: string\n      category: string\n      href: string\n    }>\n  }\n  classNames?: {\n    root?: string\n    container?: string\n    header?: { title?: string }\n  }\n}\n\nconst products4Defaults = {\n  title: \"Shop by Category\",\n  categories: [\"All\", \"Indoor\", \"Outdoor\", \"Succulents\", \"Tropical\"],\n  products: [\n    {\n      name: \"Monstera Deliciosa\",\n      price: 45,\n      image: \"/elements/subject/plants/item-1.webp\",\n      category: \"Indoor\",\n      href: \"#\",\n    },\n    {\n      name: \"Fiddle Leaf Fig\",\n      price: 65,\n      image: \"/elements/subject/plants/item-2.webp\",\n      category: \"Indoor\",\n      href: \"#\",\n    },\n    {\n      name: \"Snake Plant\",\n      price: 35,\n      image: \"/elements/subject/plants/item-3.webp\",\n      category: \"Succulents\",\n      href: \"#\",\n    },\n    {\n      name: \"Pothos Golden\",\n      price: 25,\n      image: \"/elements/subject/plants/item-4.webp\",\n      category: \"Tropical\",\n      href: \"#\",\n    },\n    {\n      name: \"Bird of Paradise\",\n      price: 89,\n      image: \"/elements/subject/plants/item-1.webp\",\n      category: \"Tropical\",\n      href: \"#\",\n    },\n    {\n      name: \"Aloe Vera\",\n      price: 22,\n      image: \"/elements/subject/plants/item-2.webp\",\n      category: \"Succulents\",\n      href: \"#\",\n    },\n    {\n      name: \"Palm Tree\",\n      price: 120,\n      image: \"/elements/subject/plants/item-3.webp\",\n      category: \"Outdoor\",\n      href: \"#\",\n    },\n    {\n      name: \"Lavender\",\n      price: 18,\n      image: \"/elements/subject/plants/item-4.webp\",\n      category: \"Outdoor\",\n      href: \"#\",\n    },\n  ],\n}\n\n// CardSwipeCarousel Component - Swiper cards effect inline\nfunction CardSwipeCarousel({\n  images,\n  className,\n}: {\n  images: {\n    src: string\n    alt: string\n    name: string\n    price: number\n    href: string\n  }[]\n  className?: string\n}) {\n  const [SwiperComponents, setSwiperComponents] = useState<{\n    Swiper: any\n    SwiperSlide: any\n    modules: any[]\n  } | null>(null)\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    setMounted(true)\n  }, [])\n\n  useEffect(() => {\n    if (!mounted) return\n    Promise.all([\n      import(\"swiper/react\"),\n      import(\"swiper/modules\"),\n      import(\"swiper/css\"),\n      import(\"swiper/css/effect-cards\"),\n      import(\"swiper/css/navigation\"),\n      import(\"swiper/css/pagination\"),\n    ]).then(([swiperReact, swiperModules]) => {\n      setSwiperComponents({\n        Swiper: swiperReact.Swiper,\n        SwiperSlide: swiperReact.SwiperSlide,\n        modules: [\n          swiperModules.EffectCards,\n          swiperModules.Autoplay,\n          swiperModules.Pagination,\n          swiperModules.Navigation,\n        ],\n      })\n    })\n  }, [mounted])\n\n  if (!mounted || !SwiperComponents || !images) {\n    return (\n      <div className={cn(\"relative w-full max-w-3xl\", className)}>\n        <div className=\"bg-muted mx-auto flex h-[400px] w-[280px] animate-pulse rounded-3xl\" />\n      </div>\n    )\n  }\n\n  const { Swiper, SwiperSlide, modules } = SwiperComponents\n\n  return (\n    <div className={cn(\"relative mx-auto w-full max-w-sm\", className)}>\n      <Swiper\n        effect=\"cards\"\n        grabCursor={true}\n        loop={true}\n        autoplay={{\n          delay: 2500,\n          disableOnInteraction: false,\n        }}\n        className=\"h-[400px] w-[280px]\"\n        modules={modules}\n      >\n        {images.map((item, index) => (\n          <SwiperSlide key={index} className=\"rounded-3xl\">\n            <Link\n              href={item.href}\n              className=\"bg-background border-border relative block h-full w-full overflow-hidden rounded-3xl border\"\n            >\n              <div className=\"relative h-[75%] w-full\">\n                <Image\n                  src={item.src}\n                  alt={item.alt}\n                  fill\n                  className=\"object-contain p-4\"\n                />\n              </div>\n              <div className=\"absolute right-0 bottom-0 left-0 p-4\">\n                <h3 className=\"text-foreground font-semibold\">{item.name}</h3>\n                <p className=\"text-primary font-bold\">${item.price}</p>\n              </div>\n            </Link>\n          </SwiperSlide>\n        ))}\n      </Swiper>\n    </div>\n  )\n}\n\nexport function Products4({\n  content = {},\n  classNames = {},\n}: ProductsBlockProps) {\n  const {\n    title = products4Defaults.title,\n    products = products4Defaults.products,\n    categories = products4Defaults.categories,\n  } = content\n\n  const [activeCategory, setActiveCategory] = useState(\"All\")\n  const scrollRef = useRef<HTMLDivElement>(null)\n\n  const filteredProducts =\n    activeCategory === \"All\"\n      ? products\n      : products.filter((p) => p.category === activeCategory)\n\n  const scroll = (direction: \"left\" | \"right\") => {\n    if (!scrollRef.current) return\n    const scrollAmount = 300\n    scrollRef.current.scrollBy({\n      left: direction === \"left\" ? -scrollAmount : scrollAmount,\n      behavior: \"smooth\",\n    })\n  }\n\n  return (\n    <section className={cn(\"bg-background\", classNames.root)}>\n      <div\n        className={cn(\"container px-6 py-16 md:py-24\", classNames.container)}\n      >\n        {/* Header */}\n        <div className=\"mb-8 flex flex-col items-center gap-6 md:flex-row md:items-center md:justify-between\">\n          <h2\n            className={cn(\n              \"text-foreground text-3xl font-bold md:text-4xl\",\n              classNames.header?.title\n            )}\n          >\n            {title}\n          </h2>\n\n          {/* Category Pills */}\n          <div className=\"flex flex-wrap justify-center gap-2\">\n            {categories.map((cat) => (\n              <Button\n                key={cat}\n                variant={activeCategory === cat ? \"default\" : \"outline\"}\n                size=\"sm\"\n                className=\"rounded-full\"\n                onClick={() => setActiveCategory(cat)}\n              >\n                {cat}\n              </Button>\n            ))}\n          </div>\n        </div>\n\n        {/* CardSwipeCarousel */}\n        <div className=\"mb-12 flex items-center justify-center py-8\">\n          <CardSwipeCarousel\n            images={filteredProducts.map((p) => ({\n              src: p.image,\n              alt: p.name,\n              name: p.name,\n              price: p.price,\n              href: p.href,\n            }))}\n          />\n        </div>\n\n        {/* Horizontal Scroll Products below */}\n        <div className=\"relative\">\n          <div className=\"mb-4 flex items-center justify-between\">\n            <h3 className=\"text-foreground text-lg font-semibold\">\n              More Products\n            </h3>\n            <div className=\"flex gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"icon\"\n                onClick={() => scroll(\"left\")}\n                className=\"h-10 w-10 rounded-full\"\n              >\n                <DynamicIcon name=\"ChevronLeft\" className=\"h-5 w-5\" />\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"icon\"\n                onClick={() => scroll(\"right\")}\n                className=\"h-10 w-10 rounded-full\"\n              >\n                <DynamicIcon name=\"ChevronRight\" className=\"h-5 w-5\" />\n              </Button>\n            </div>\n          </div>\n\n          <div\n            ref={scrollRef}\n            className=\"scrollbar-hide -mx-6 flex gap-4 overflow-x-auto px-6 pb-4\"\n          >\n            {filteredProducts.map((product, i) => (\n              <div\n                key={i}\n                className=\"border-border group w-48 shrink-0 overflow-hidden rounded-xl border\"\n              >\n                <Link\n                  href={product.href}\n                  className=\"relative block aspect-square\"\n                >\n                  <Image\n                    src={product.image}\n                    alt={product.name}\n                    fill\n                    className=\"object-contain p-2 transition-transform duration-300 group-hover:scale-105\"\n                  />\n                </Link>\n                <div className=\"p-3\">\n                  <span className=\"text-muted-foreground text-xs uppercase\">\n                    {product.category}\n                  </span>\n                  <Link href={product.href}>\n                    <h3 className=\"text-foreground mt-1 text-sm font-medium hover:underline\">\n                      {product.name}\n                    </h3>\n                  </Link>\n                  <p className=\"text-primary mt-1 font-bold\">\n                    ${product.price}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n",
      "type": "registry:block"
    }
  ],
  "categories": [
    "products",
    "landing"
  ],
  "tier": "free",
  "readiness": "alpha",
  "blockConfig": {
    "template": "service-plants",
    "blockType": "products",
    "order": 5,
    "palette": "sage",
    "typography": "elegant",
    "tint": "tinted"
  }
}