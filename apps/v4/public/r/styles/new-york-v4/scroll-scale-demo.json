{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "scroll-scale-demo",
  "type": "registry:example",
  "registryDependencies": [
    "scroll-scale"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/examples/scroll-scale-demo.tsx",
      "content": "\"use client\"\n\nimport { useGSAP } from \"@gsap/react\"\nimport gsap from \"gsap\"\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\"\nimport ReactLenis from \"lenis/react\"\nimport { useRef } from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface CardData {\n  id: number | string\n  image: string\n  alt?: string\n}\n\ninterface StickyCard002Props {\n  cards: CardData[]\n  className?: string\n  containerClassName?: string\n  imageClassName?: string\n}\n\nconst StickyCard002 = ({\n  cards,\n  className,\n  containerClassName,\n  imageClassName,\n}: StickyCard002Props) => {\n  const container = useRef(null)\n  const imageRefs = useRef<(HTMLImageElement | null)[]>([])\n\n  useGSAP(\n    () => {\n      gsap.registerPlugin(ScrollTrigger)\n\n      const imageElements = imageRefs.current\n      const totalCards = imageElements.length\n\n      if (!imageElements[0]) return\n\n      gsap.set(imageElements[0], { y: \"0%\", scale: 1, rotation: 0 })\n\n      for (let i = 1; i < totalCards; i++) {\n        if (!imageElements[i]) continue\n        gsap.set(imageElements[i], { y: \"100%\", scale: 1, rotation: 0 })\n      }\n\n      const scrollTimeline = gsap.timeline({\n        scrollTrigger: {\n          trigger: \".sticky-cards\",\n          start: \"top top\",\n          end: `+=${window.innerHeight * (totalCards - 1)}`,\n          pin: true,\n          scrub: 0.5,\n          pinSpacing: true,\n        },\n      })\n\n      for (let i = 0; i < totalCards - 1; i++) {\n        const currentImage = imageElements[i]\n        const nextImage = imageElements[i + 1]\n        const position = i\n        if (!currentImage || !nextImage) continue\n\n        scrollTimeline.to(\n          currentImage,\n          {\n            scale: 0.7,\n            rotation: 5,\n            duration: 1,\n            ease: \"none\",\n          },\n          position\n        )\n\n        scrollTimeline.to(\n          nextImage,\n          {\n            y: \"0%\",\n            duration: 1,\n            ease: \"none\",\n          },\n          position\n        )\n      }\n\n      const resizeObserver = new ResizeObserver(() => {\n        ScrollTrigger.refresh()\n      })\n\n      if (container.current) {\n        resizeObserver.observe(container.current)\n      }\n\n      return () => {\n        resizeObserver.disconnect()\n        scrollTimeline.kill()\n        ScrollTrigger.getAll().forEach((trigger) => trigger.kill())\n      }\n    },\n    { scope: container }\n  )\n\n  return (\n    <div className={cn(\"relative h-full w-full\", className)} ref={container}>\n      <div className=\"sticky-cards relative flex h-full w-full items-center justify-center overflow-hidden p-3 lg:p-8\">\n        <div\n          className={cn(\n            \"relative h-[90%] w-full max-w-sm overflow-hidden rounded-lg sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl 2xl:max-w-3xl\",\n            containerClassName\n          )}\n        >\n          {cards.map((card, i) => (\n            <img\n              key={card.id}\n              src={card.image}\n              alt={card.alt || \"\"}\n              className={cn(\n                \"rounded-4xl absolute h-full w-full object-cover\",\n                imageClassName\n              )}\n              ref={(el) => {\n                imageRefs.current[i] = el\n              }}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Example usage component with default data\nexport default function ScrollScaleDemo() {\n  const defaultCards = [\n    {\n      id: 1,\n      image: \"/images/lummi/img14.png\",\n    },\n    {\n      id: 2,\n      image: \"/images/lummi/img15.png\",\n    },\n    {\n      id: 3,\n      image: \"/images/lummi/img29.png\",\n    },\n    {\n      id: 4,\n      image: \"/images/lummi/img21.png\",\n    },\n    {\n      id: 5,\n      image: \"/images/lummi/img27.png\",\n    },\n  ]\n\n  return (\n    <ReactLenis root>\n      <div className=\"h-full w-full\">\n        <StickyCard002 cards={defaultCards} />\n      </div>\n    </ReactLenis>\n  )\n}\n",
      "type": "registry:example"
    }
  ],
  "categories": [
    "animations"
  ],
  "tier": "free",
  "readiness": "production"
}