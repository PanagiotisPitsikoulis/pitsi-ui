{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "text-parallax",
  "type": "registry:ui",
  "description": "Animation component: text parallax",
  "files": [
    {
      "path": "registry/new-york-v4/animations/text-parallax/text-parallax.tsx",
      "content": "\"use client\"\n\nimport type { ReactNode } from \"react\"\nimport { memo, useMemo, useRef } from \"react\"\nimport { motion, useScroll, useTransform } from \"motion/react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { useAnimationState } from \"@/hooks/use-animation-state\"\nimport { useIsMobile } from \"@/hooks/use-mobile\"\n\nexport type TextParallaxProps = {\n  /** Content to apply parallax effect to */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n  /** Multiplier for parallax speed. Positive moves down, negative moves up. Default: 0.5 */\n  speed?: number\n  /** When to start/end animation relative to viewport. Default: [\"start end\", \"end start\"] */\n  offset?: [string, string]\n  /** Enable scroll-based animation. Default: true */\n  scrollBased?: boolean\n  /** Disable animation on mobile. Default: false */\n  noMobile?: boolean\n}\n\n/**\n * Text that moves at a different speed than scroll for parallax effect.\n * Creates depth by moving content slower or faster than the scroll speed.\n */\nexport const TextParallax = memo<TextParallaxProps>(\n  ({\n    children,\n    className,\n    speed = 0.5,\n    offset = [\"start end\", \"end start\"],\n    scrollBased = true,\n    noMobile = false,\n  }) => {\n    const isMobile = useIsMobile()\n    const ref = useRef<HTMLDivElement>(null)\n    const { shouldDisableAnimation, shouldUseScroll } = useAnimationState(\n      scrollBased,\n      noMobile\n    )\n\n    const adjustedSpeed = useMemo(\n      () => (isMobile ? speed * 0.5 : speed),\n      [isMobile, speed]\n    )\n\n    const { scrollYProgress } = useScroll({\n      target: shouldUseScroll ? ref : undefined,\n      offset: offset as any,\n    })\n\n    const y = useTransform(\n      scrollYProgress,\n      [0, 1],\n      [\"0%\", `${adjustedSpeed * 100}%`]\n    )\n\n    if (shouldDisableAnimation) {\n      return <div className={className}>{children}</div>\n    }\n\n    return (\n      <motion.div\n        ref={ref}\n        style={{ y }}\n        className={cn(\"will-change-transform\", className)}\n      >\n        {children}\n      </motion.div>\n    )\n  }\n)\n\nTextParallax.displayName = \"TextParallax\"\n\nexport type SplitTextParallaxProps = {\n  /** Text to split and animate */\n  text: string\n  /** Additional CSS classes */\n  className?: string\n  /** Speed range for first and last word. Default: [-0.2, 0.2] */\n  speedRange?: [number, number]\n  /** Enable scroll-based animation. Default: true */\n  scrollBased?: boolean\n  /** Disable animation on mobile. Default: true (recommended for split text) */\n  noMobile?: boolean\n}\n\n/**\n * Text split into words with each word having different parallax speed.\n * Creates a wave-like staggered effect as you scroll.\n */\nexport const SplitTextParallax = memo<SplitTextParallaxProps>(\n  ({\n    text,\n    className,\n    speedRange = [-0.2, 0.2],\n    scrollBased = true,\n    noMobile = true, // Disabled by default on mobile for performance\n  }) => {\n    const isMobile = useIsMobile()\n    const ref = useRef<HTMLDivElement>(null)\n    const { shouldDisableAnimation, shouldUseScroll } = useAnimationState(\n      scrollBased,\n      noMobile\n    )\n\n    const adjustedSpeedRange = useMemo(\n      () =>\n        isMobile ? [speedRange[0] * 0.5, speedRange[1] * 0.5] : speedRange,\n      [isMobile, speedRange]\n    ) as [number, number]\n\n    const { scrollYProgress } = useScroll({\n      target: shouldUseScroll ? ref : undefined,\n      offset: [\"start end\", \"end start\"],\n    })\n\n    const words = useMemo(() => text.split(\" \"), [text])\n\n    if (shouldDisableAnimation) {\n      return (\n        <div className={cn(\"relative\", className)}>\n          <p className=\"flex flex-wrap gap-x-2\">{text}</p>\n        </div>\n      )\n    }\n\n    return (\n      <div ref={ref} className={cn(\"relative\", className)}>\n        <p className=\"flex flex-wrap gap-x-2\">\n          {words.map((word, i) => (\n            <WordParallax\n              key={i}\n              word={word}\n              index={i}\n              totalWords={words.length}\n              scrollYProgress={scrollYProgress}\n              speedRange={adjustedSpeedRange}\n            />\n          ))}\n        </p>\n      </div>\n    )\n  }\n)\n\nSplitTextParallax.displayName = \"SplitTextParallax\"\n\n// Helper component to handle individual word parallax\ntype WordParallaxProps = {\n  word: string\n  index: number\n  totalWords: number\n  scrollYProgress: any\n  speedRange: [number, number]\n}\n\nconst WordParallax = memo<WordParallaxProps>(\n  ({ word, index, totalWords, scrollYProgress, speedRange }) => {\n    const speed =\n      speedRange[0] + (speedRange[1] - speedRange[0]) * (index / totalWords)\n    const y = useTransform(scrollYProgress, [0, 1], [\"0%\", `${speed * 100}%`])\n\n    return (\n      <motion.span style={{ y }} className=\"inline-block will-change-transform\">\n        {word}\n      </motion.span>\n    )\n  }\n)\n\nWordParallax.displayName = \"WordParallax\"\n\nexport default TextParallax\n",
      "type": "registry:ui"
    }
  ],
  "categories": [
    "animations"
  ],
  "tier": "free",
  "readiness": "beta",
  "poweredBy": [
    {
      "name": "Skiper UI",
      "url": "https://skiper-ui.com"
    }
  ]
}