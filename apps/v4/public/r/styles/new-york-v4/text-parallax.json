{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "text-parallax",
  "type": "registry:ui",
  "description": "Text that moves at different speed than scroll.",
  "dependencies": [
    "motion/react"
  ],
  "registryDependencies": [
    "utils",
    "use-animation-state",
    "use-mobile"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/animations/text-parallax/text-parallax.tsx",
      "content": "\"use client\"\n\nimport type { ReactNode } from \"react\"\nimport { createContext, memo, useContext, useRef } from \"react\"\nimport { motion, MotionValue, useScroll, useTransform } from \"motion/react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { useAnimationState } from \"@/hooks/use-animation-state\"\n\n// Context to share scroll progress\nconst ScrollProgressContext = createContext<MotionValue<number> | null>(null)\n\nexport type HorizontalScrollContainerProps = {\n  /** Child slides */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n  /** Enable scroll-based animation. Default: true */\n  scrollBased?: boolean\n  /** Disable animation on mobile. Default: false */\n  noMobile?: boolean\n}\n\n/**\n * Container that tracks scroll progress for horizontal slide animations.\n * Wrap HorizontalSlide components inside this container.\n */\nexport const HorizontalScrollContainer = memo<HorizontalScrollContainerProps>(\n  ({ children, className, scrollBased = true, noMobile = false }) => {\n    const ref = useRef<HTMLDivElement>(null)\n    const { shouldUseScroll } = useAnimationState(scrollBased, noMobile)\n\n    const { scrollYProgress } = useScroll({\n      target: shouldUseScroll ? ref : undefined,\n      offset: [\"start end\", \"end start\"],\n    })\n\n    return (\n      <ScrollProgressContext.Provider value={scrollYProgress}>\n        <div ref={ref} className={className}>\n          {children}\n        </div>\n      </ScrollProgressContext.Provider>\n    )\n  }\n)\n\nHorizontalScrollContainer.displayName = \"HorizontalScrollContainer\"\n\nexport type HorizontalSlideProps = {\n  /** Content to slide */\n  children: ReactNode\n  /** Direction of movement. Default: \"left\" */\n  direction?: \"left\" | \"right\"\n  /** CSS left offset. Default: \"0%\" */\n  left?: string\n  /** Movement distance in pixels. Default: 150 */\n  distance?: number\n  /** Additional CSS classes */\n  className?: string\n  /** Enable scroll-based animation. Default: true */\n  scrollBased?: boolean\n  /** Disable animation on mobile. Default: false */\n  noMobile?: boolean\n}\n\n/**\n * Content that slides horizontally based on scroll progress.\n * Use inside HorizontalScrollContainer for shared scroll tracking.\n */\nexport const HorizontalSlide = memo<HorizontalSlideProps>(\n  ({\n    children,\n    direction = \"left\",\n    left = \"0%\",\n    distance = 150,\n    className,\n    scrollBased = true,\n    noMobile = false,\n  }) => {\n    const scrollYProgress = useContext(ScrollProgressContext)\n    const { shouldDisableAnimation } = useAnimationState(scrollBased, noMobile)\n\n    const dir = direction === \"left\" ? -1 : 1\n    const translateX = useTransform(\n      scrollYProgress || new MotionValue(0),\n      [0, 1],\n      [distance * dir, -distance * dir]\n    )\n\n    if (shouldDisableAnimation || !scrollYProgress) {\n      return (\n        <div\n          className={cn(\"relative flex whitespace-nowrap\", className)}\n          style={{ left }}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    return (\n      <motion.div\n        style={{ x: translateX, left }}\n        className={cn(\"relative flex whitespace-nowrap\", className)}\n      >\n        {children}\n      </motion.div>\n    )\n  }\n)\n\nHorizontalSlide.displayName = \"HorizontalSlide\"\n\n// Legacy exports for backwards compatibility\nexport type TextParallaxProps = {\n  /** Content to apply parallax effect to */\n  children: ReactNode\n  /** Additional CSS classes */\n  className?: string\n  /** Multiplier for parallax speed. Default: 0.5 */\n  speed?: number\n  /** Scroll offset. Default: [\"start end\", \"end start\"] */\n  offset?: [string, string]\n  /** Enable scroll-based animation. Default: true */\n  scrollBased?: boolean\n  /** Disable animation on mobile. Default: false */\n  noMobile?: boolean\n}\n\n/**\n * Text that moves vertically at a different speed than scroll.\n * @deprecated Use HorizontalSlide for horizontal movement or keep for vertical parallax.\n */\nexport const TextParallax = memo<TextParallaxProps>(\n  ({\n    children,\n    className,\n    speed = 0.5,\n    offset = [\"start end\", \"end start\"],\n    scrollBased = true,\n    noMobile = false,\n  }) => {\n    const ref = useRef<HTMLDivElement>(null)\n    const { shouldDisableAnimation, shouldUseScroll } = useAnimationState(\n      scrollBased,\n      noMobile\n    )\n\n    const { scrollYProgress } = useScroll({\n      target: shouldUseScroll ? ref : undefined,\n      offset: offset as any,\n    })\n\n    const y = useTransform(scrollYProgress, [0, 1], [\"0%\", `${speed * 100}%`])\n\n    if (shouldDisableAnimation) {\n      return <div className={className}>{children}</div>\n    }\n\n    return (\n      <motion.div\n        ref={ref}\n        style={{ y }}\n        className={cn(\"will-change-transform\", className)}\n      >\n        {children}\n      </motion.div>\n    )\n  }\n)\n\nTextParallax.displayName = \"TextParallax\"\n\nexport default HorizontalSlide\n",
      "type": "registry:ui"
    }
  ],
  "categories": [
    "animations"
  ],
  "tier": "free",
  "readiness": "beta"
}