{
  "$schema": "https://ui.pitsi.com/schema/registry-item.json",
  "name": "text-gradient-opacity",
  "type": "registry:ui",
  "description": "Animation component: text gradient opacity",
  "files": [
    {
      "path": "registry/new-york-v4/animations/text-gradient-opacity/text-gradient-opacity.tsx",
      "content": "\"use client\"\n\nimport { memo, useMemo, useRef } from \"react\"\nimport { motion, useScroll, useTransform } from \"motion/react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { useAnimationState } from \"@/hooks/use-animation-state\"\nimport { useIsMobile } from \"@/hooks/use-mobile\"\n\nexport type TextGradientOpacityProps = {\n  /** Text to animate */\n  text: string\n  /** Additional CSS classes */\n  className?: string\n  /** Gradient starting color. Default: \"from-gray-300\" */\n  gradientFrom?: string\n  /** Gradient ending color. Default: \"to-gray-900\" */\n  gradientTo?: string\n  /** Scroll offset when to start/end animation. Default: [\"start 0.9\", \"start 0.25\"] */\n  offset?: [string, string]\n  /** Enable scroll-based animation. Default: true */\n  scrollBased?: boolean\n  /** Disable animation on mobile. Default: false */\n  noMobile?: boolean\n}\n\n/**\n * Text that reveals word by word with gradient opacity on scroll.\n * Creates a progressive disclosure effect perfect for long-form content.\n */\nexport const TextGradientOpacity = memo<TextGradientOpacityProps>(\n  ({\n    text,\n    className,\n    gradientFrom = \"from-gray-300\",\n    gradientTo = \"to-gray-900\",\n    offset = [\"start 0.9\", \"start 0.25\"],\n    scrollBased = true,\n    noMobile = false,\n  }) => {\n    const isMobile = useIsMobile()\n    const ref = useRef<HTMLDivElement>(null)\n    const { shouldDisableAnimation, shouldUseScroll } = useAnimationState(\n      scrollBased,\n      noMobile\n    )\n\n    const { scrollYProgress } = useScroll({\n      target: shouldUseScroll ? ref : undefined,\n      offset: offset as any,\n    })\n\n    const words = useMemo(() => text.split(\" \"), [text])\n\n    const textSize = useMemo(\n      () => (isMobile ? \"text-3xl\" : \"text-4xl md:text-6xl lg:text-7xl\"),\n      [isMobile]\n    )\n\n    if (shouldDisableAnimation) {\n      return (\n        <div className={cn(\"relative\", className)}>\n          <p\n            className={cn(\n              \"flex flex-wrap gap-x-2 gap-y-1 bg-gradient-to-r bg-clip-text font-bold text-transparent\",\n              textSize,\n              gradientFrom,\n              gradientTo\n            )}\n          >\n            {text}\n          </p>\n        </div>\n      )\n    }\n\n    return (\n      <div ref={ref} className={cn(\"relative\", className)}>\n        <p className={cn(\"flex flex-wrap gap-x-2 gap-y-1 font-bold\", textSize)}>\n          {words.map((word, i) => (\n            <GradientWord\n              key={i}\n              word={word}\n              index={i}\n              totalWords={words.length}\n              scrollYProgress={scrollYProgress}\n              gradientFrom={gradientFrom}\n              gradientTo={gradientTo}\n            />\n          ))}\n        </p>\n      </div>\n    )\n  }\n)\n\nTextGradientOpacity.displayName = \"TextGradientOpacity\"\n\nexport type AnimatedTextRevealProps = {\n  /** Text to animate character by character */\n  children: string\n  /** Additional CSS classes */\n  className?: string\n  /** Scroll offset when to start/end animation. Default: [\"start 0.9\", \"start 0.3\"] */\n  offset?: [string, string]\n  /** Enable scroll-based animation. Default: true */\n  scrollBased?: boolean\n  /** Disable animation on mobile. Default: true (recommended for performance) */\n  noMobile?: boolean\n}\n\n/**\n * Character-by-character text reveal with opacity.\n * Creates a more dramatic reveal effect than word-by-word.\n * Note: Can be performance-intensive for very long text.\n */\nexport const AnimatedTextReveal = memo<AnimatedTextRevealProps>(\n  ({\n    children,\n    className,\n    offset = [\"start 0.9\", \"start 0.3\"],\n    scrollBased = true,\n    noMobile = true, // Disabled by default on mobile for performance\n  }) => {\n    const isMobile = useIsMobile()\n    const ref = useRef<HTMLDivElement>(null)\n    const { shouldDisableAnimation, shouldUseScroll } = useAnimationState(\n      scrollBased,\n      noMobile\n    )\n\n    const { scrollYProgress } = useScroll({\n      target: shouldUseScroll ? ref : undefined,\n      offset: offset as any,\n    })\n\n    const chars = useMemo(() => children.split(\"\"), [children])\n\n    const textSize = useMemo(\n      () => (isMobile ? \"text-2xl\" : \"text-3xl md:text-5xl\"),\n      [isMobile]\n    )\n\n    if (shouldDisableAnimation) {\n      return (\n        <div className={cn(\"relative\", className)}>\n          <p className={cn(\"font-medium\", textSize)}>{children}</p>\n        </div>\n      )\n    }\n\n    return (\n      <div ref={ref} className={cn(\"relative\", className)}>\n        <p className={cn(\"font-medium\", textSize)}>\n          {chars.map((char, i) => (\n            <RevealChar\n              key={i}\n              char={char}\n              index={i}\n              totalChars={chars.length}\n              scrollYProgress={scrollYProgress}\n            />\n          ))}\n        </p>\n      </div>\n    )\n  }\n)\n\nAnimatedTextReveal.displayName = \"AnimatedTextReveal\"\n\n// Helper component for gradient word opacity\ntype GradientWordProps = {\n  word: string\n  index: number\n  totalWords: number\n  scrollYProgress: any\n  gradientFrom: string\n  gradientTo: string\n}\n\nconst GradientWord = memo<GradientWordProps>(\n  ({ word, index, totalWords, scrollYProgress, gradientFrom, gradientTo }) => {\n    const start = index / totalWords\n    const end = start + 1 / totalWords\n    const opacity = useTransform(scrollYProgress, [start, end], [0.2, 1])\n\n    return (\n      <motion.span\n        style={{ opacity }}\n        className={cn(\n          \"bg-gradient-to-r bg-clip-text text-transparent\",\n          gradientFrom,\n          gradientTo\n        )}\n      >\n        {word}\n      </motion.span>\n    )\n  }\n)\n\nGradientWord.displayName = \"GradientWord\"\n\n// Helper component for character reveal\ntype RevealCharProps = {\n  char: string\n  index: number\n  totalChars: number\n  scrollYProgress: any\n}\n\nconst RevealChar = memo<RevealCharProps>(\n  ({ char, index, totalChars, scrollYProgress }) => {\n    const start = index / totalChars\n    const end = start + 1 / totalChars\n    const opacity = useTransform(scrollYProgress, [start, end], [0.1, 1])\n\n    return <motion.span style={{ opacity }}>{char}</motion.span>\n  }\n)\n\nRevealChar.displayName = \"RevealChar\"\n\nexport default TextGradientOpacity\n",
      "type": "registry:ui"
    }
  ],
  "categories": [
    "animations"
  ],
  "tier": "free",
  "readiness": "beta"
}