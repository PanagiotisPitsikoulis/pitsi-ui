{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "app-docs-viewer-1",
  "type": "registry:block",
  "description": "Documentation page viewer with table of contents, navigation, and copy functionality",
  "registryDependencies": [
    "button",
    "sheet"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/blocks/application/app-docs-viewer-1.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport Link from \"next/link\"\nimport {\n  ArrowLeft,\n  ArrowRight,\n  ArrowUpRight,\n  Check,\n  Clipboard,\n  List,\n} from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetTrigger,\n} from \"@/registry/new-york-v4/ui/sheet\"\n\n// Types\ninterface TocItem {\n  title: string\n  url: string\n  depth: number\n}\n\ninterface NeighbourPage {\n  url: string\n  name: string\n}\n\ninterface DocLinks {\n  doc?: string\n  api?: string\n}\n\n// Table of Contents Component\nfunction TableOfContents({\n  items,\n  className,\n}: {\n  items: TocItem[]\n  className?: string\n}) {\n  const [activeId, setActiveId] = React.useState<string>(\"\")\n\n  React.useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        for (const entry of entries) {\n          if (entry.isIntersecting) {\n            setActiveId(entry.target.id)\n          }\n        }\n      },\n      { rootMargin: \"-80px 0px -80% 0px\" }\n    )\n\n    const headings = document.querySelectorAll(\"h2, h3, h4\")\n    headings.forEach((heading) => observer.observe(heading))\n\n    return () => observer.disconnect()\n  }, [])\n\n  return (\n    <nav className={cn(\"space-y-1\", className)}>\n      <h4 className=\"text-muted-foreground mb-3 text-xs font-medium tracking-wider uppercase\">\n        On this page\n      </h4>\n      <ul className=\"space-y-2\">\n        {items.map((item) => {\n          const id = item.url.replace(\"#\", \"\")\n          const isActive = activeId === id\n\n          return (\n            <li key={item.url}>\n              <a\n                href={item.url}\n                className={cn(\n                  \"text-muted-foreground hover:text-foreground block text-sm transition-colors\",\n                  item.depth === 2 && \"pl-0\",\n                  item.depth === 3 && \"pl-4\",\n                  item.depth === 4 && \"pl-8\",\n                  isActive && \"text-foreground font-medium\"\n                )}\n              >\n                {item.title}\n              </a>\n            </li>\n          )\n        })}\n      </ul>\n    </nav>\n  )\n}\n\n// Copy Page Button\nfunction CopyPageButton({\n  content,\n  className,\n}: {\n  content: string\n  className?: string\n}) {\n  const [copied, setCopied] = React.useState(false)\n\n  const handleCopy = async () => {\n    await navigator.clipboard.writeText(content)\n    setCopied(true)\n    setTimeout(() => setCopied(false), 2000)\n  }\n\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"sm\"\n      className={cn(\"gap-2\", className)}\n      onClick={handleCopy}\n    >\n      {copied ? <Check className=\"size-4\" /> : <Clipboard className=\"size-4\" />}\n      {copied ? \"Copied\" : \"Copy page\"}\n    </Button>\n  )\n}\n\n// Default data\nconst appDocsViewer1Defaults = {\n  title: \"Getting Started\",\n  description:\n    \"A guide to installing and configuring the component library in your project.\",\n  toc: [\n    { title: \"Installation\", url: \"#installation\", depth: 2 },\n    { title: \"Prerequisites\", url: \"#prerequisites\", depth: 3 },\n    { title: \"Quick Start\", url: \"#quick-start\", depth: 3 },\n    { title: \"Configuration\", url: \"#configuration\", depth: 2 },\n    { title: \"Project Setup\", url: \"#project-setup\", depth: 3 },\n    { title: \"Tailwind Config\", url: \"#tailwind-config\", depth: 3 },\n    { title: \"Usage\", url: \"#usage\", depth: 2 },\n    { title: \"Importing Components\", url: \"#importing-components\", depth: 3 },\n    { title: \"Customization\", url: \"#customization\", depth: 3 },\n  ] as TocItem[],\n  links: {\n    doc: \"https://github.com/example/docs\",\n    api: \"https://api.example.com/reference\",\n  } as DocLinks,\n  neighbours: {\n    previous: { url: \"/docs/introduction\", name: \"Introduction\" },\n    next: { url: \"/docs/components\", name: \"Components\" },\n  } as { previous?: NeighbourPage; next?: NeighbourPage },\n  rawContent: `# Getting Started\n\n## Installation\n\nTo get started with the component library...\n\n### Prerequisites\n\nMake sure you have Node.js 18 or higher installed.\n\n### Quick Start\n\nRun the following command to initialize your project:\n\n\\`\\`\\`bash\nnpx pitsi init\n\\`\\`\\`\n\n## Configuration\n\nConfigure your project to use the components.\n\n### Project Setup\n\nAdd the following to your tailwind.config.js...\n\n### Tailwind Config\n\nExtend the default theme with our design tokens.\n\n## Usage\n\nStart using components in your application.\n\n### Importing Components\n\nImport components from the ui directory.\n\n### Customization\n\nCustomize components using CSS variables.\n`,\n  pageUrl: \"/docs/getting-started\",\n  children: (\n    <div className=\"prose prose-neutral dark:prose-invert max-w-none\">\n      <h2 id=\"installation\">Installation</h2>\n      <p>\n        To get started with the component library, you&apos;ll need to install\n        and configure a few dependencies.\n      </p>\n\n      <h3 id=\"prerequisites\">Prerequisites</h3>\n      <p>Make sure you have Node.js 18 or higher installed on your system.</p>\n\n      <h3 id=\"quick-start\">Quick Start</h3>\n      <p>Run the following command to initialize your project:</p>\n      <pre>\n        <code>npx pitsi init</code>\n      </pre>\n\n      <h2 id=\"configuration\">Configuration</h2>\n      <p>Configure your project to use the components effectively.</p>\n\n      <h3 id=\"project-setup\">Project Setup</h3>\n      <p>\n        Add the following to your project configuration to enable component\n        styling.\n      </p>\n\n      <h3 id=\"tailwind-config\">Tailwind Config</h3>\n      <p>Extend the default theme with our design tokens for consistency.</p>\n\n      <h2 id=\"usage\">Usage</h2>\n      <p>Start using components in your application right away.</p>\n\n      <h3 id=\"importing-components\">Importing Components</h3>\n      <p>Import components from the ui directory in your component files.</p>\n\n      <h3 id=\"customization\">Customization</h3>\n      <p>\n        Customize components using CSS variables for theming and brand\n        alignment.\n      </p>\n    </div>\n  ),\n}\n\ninterface AppDocsViewer1Props {\n  title?: string\n  description?: string\n  toc?: TocItem[]\n  links?: DocLinks\n  neighbours?: { previous?: NeighbourPage; next?: NeighbourPage }\n  rawContent?: string\n  pageUrl?: string\n  children?: React.ReactNode\n  className?: string\n}\n\nexport function AppDocsViewer1({\n  title = appDocsViewer1Defaults.title,\n  description = appDocsViewer1Defaults.description,\n  toc = appDocsViewer1Defaults.toc,\n  links = appDocsViewer1Defaults.links,\n  neighbours = appDocsViewer1Defaults.neighbours,\n  rawContent = appDocsViewer1Defaults.rawContent,\n  pageUrl = appDocsViewer1Defaults.pageUrl,\n  children = appDocsViewer1Defaults.children,\n  className,\n}: AppDocsViewer1Props) {\n  const hasToc = toc?.length > 0\n\n  return (\n    <div className={cn(\"flex items-stretch\", className)}>\n      {/* Main Content */}\n      <div className=\"flex min-w-0 flex-1 flex-col\">\n        <div\n          className={cn(\n            \"mx-auto flex w-full min-w-0 flex-1 flex-col gap-8 px-4 py-6 lg:py-8\",\n            hasToc ? \"max-w-2xl\" : \"max-w-6xl\"\n          )}\n        >\n          {/* Header */}\n          <div className=\"bg-muted rounded-2xl p-4 sm:p-5\">\n            <div className=\"flex flex-col gap-3\">\n              <div className=\"flex items-start justify-between gap-4\">\n                <h1 className=\"display scroll-m-20 text-2xl font-semibold tracking-tight sm:text-3xl\">\n                  {title}\n                </h1>\n                <div className=\"flex items-center gap-2\">\n                  <CopyPageButton content={rawContent} />\n                  <div className=\"flex items-center gap-1\">\n                    {neighbours.previous && (\n                      <Button variant=\"outline\" size=\"icon\" asChild>\n                        <Link href={neighbours.previous.url}>\n                          <ArrowLeft className=\"size-4\" />\n                          <span className=\"sr-only\">Previous</span>\n                        </Link>\n                      </Button>\n                    )}\n                    {neighbours.next && (\n                      <Button variant=\"outline\" size=\"icon\" asChild>\n                        <Link href={neighbours.next.url}>\n                          <span className=\"sr-only\">Next</span>\n                          <ArrowRight className=\"size-4\" />\n                        </Link>\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              </div>\n              {(description || links) && (\n                <p className=\"text-muted-foreground text-base text-balance\">\n                  {description}\n                  {links && (description ? \" \" : \"\")}\n                  {links?.doc && (\n                    <a\n                      href={links.doc}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      className=\"text-foreground/80 hover:text-foreground ml-1 inline-flex items-center gap-0.5 underline underline-offset-4\"\n                    >\n                      Docs\n                      <ArrowUpRight className=\"size-3.5\" />\n                    </a>\n                  )}\n                  {links?.doc && links?.api && \" \"}\n                  {links?.api && (\n                    <a\n                      href={links.api}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      className=\"text-foreground/80 hover:text-foreground inline-flex items-center gap-0.5 underline underline-offset-4\"\n                    >\n                      API Reference\n                      <ArrowUpRight className=\"size-3.5\" />\n                    </a>\n                  )}\n                </p>\n              )}\n            </div>\n          </div>\n\n          {/* Content */}\n          <div className=\"w-full flex-1\">{children}</div>\n        </div>\n\n        {/* Bottom Navigation */}\n        <div\n          className={cn(\n            \"mx-auto hidden h-16 w-full items-center gap-2 px-4 sm:flex\",\n            hasToc ? \"max-w-2xl\" : \"max-w-6xl\"\n          )}\n        >\n          {neighbours.previous && (\n            <Button variant=\"outline\" size=\"sm\" asChild>\n              <Link href={neighbours.previous.url}>\n                <ArrowLeft className=\"size-4\" /> {neighbours.previous.name}\n              </Link>\n            </Button>\n          )}\n          {neighbours.next && (\n            <Button variant=\"outline\" size=\"sm\" className=\"ml-auto\" asChild>\n              <Link href={neighbours.next.url}>\n                {neighbours.next.name} <ArrowRight className=\"size-4\" />\n              </Link>\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* Table of Contents Sidebar - Desktop */}\n      {hasToc && (\n        <div className=\"sticky top-20 hidden h-[calc(100vh-5rem)] w-72 shrink-0 flex-col gap-4 pb-8 xl:flex\">\n          <div className=\"no-scrollbar overflow-y-auto px-8 pt-6\">\n            <TableOfContents items={toc} />\n          </div>\n        </div>\n      )}\n\n      {/* Table of Contents - Mobile */}\n      {hasToc && (\n        <Sheet>\n          <SheetTrigger asChild>\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              className=\"fixed right-4 bottom-4 z-50 size-12 rounded-full shadow-lg xl:hidden\"\n            >\n              <List className=\"size-5\" />\n            </Button>\n          </SheetTrigger>\n          <SheetContent side=\"right\" className=\"w-72\">\n            <SheetHeader>\n              <SheetTitle>On this page</SheetTitle>\n            </SheetHeader>\n            <div className=\"mt-6\">\n              <TableOfContents items={toc} />\n            </div>\n          </SheetContent>\n        </Sheet>\n      )}\n    </div>\n  )\n}\n",
      "type": "registry:block"
    }
  ],
  "categories": [
    "application",
    "docs"
  ],
  "tier": "free",
  "readiness": "production",
  "blockConfig": {
    "template": "service-library",
    "blockType": "application",
    "order": 3,
    "palette": "neutral",
    "typography": "modern",
    "tint": "base"
  }
}