{
  "$schema": "https://pitsiui.com/schema/registry-item.json",
  "name": "filter-bar",
  "type": "registry:ui",
  "description": "A filter bar with search input and icon-based filter dropdowns",
  "registryDependencies": [
    "dropdown-menu",
    "input",
    "tooltip"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/ui/filter-bar.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\n\nimport { ChevronDown, Search, X } from \"@/lib/icons\"\nimport { cn } from \"@/lib/utils\"\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuTrigger,\n} from \"@/registry/new-york-v4/ui/dropdown-menu\"\nimport { Input } from \"@/registry/new-york-v4/ui/input\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/registry/new-york-v4/ui/tooltip\"\n\n/* -----------------------------------------------------------------------------\n * Types\n * -------------------------------------------------------------------------- */\n\nexport interface FilterConfig {\n  /** Unique key for the filter */\n  key: string\n  /** Label shown in tooltip */\n  label: string\n  /** Icon component to display */\n  icon: React.ComponentType<{ className?: string }>\n  /** Available options for this filter */\n  options: string[]\n  /** Currently selected values */\n  selected: string[]\n}\n\nexport interface FilterBarProps {\n  /** Filter configurations */\n  filters: FilterConfig[]\n  /** Search query value */\n  searchValue?: string\n  /** Search input placeholder */\n  searchPlaceholder?: string\n  /** Callback when search value changes */\n  onSearchChange?: (value: string) => void\n  /** Callback when a filter option is toggled */\n  onFilterToggle: (filterKey: string, value: string) => void\n  /** Callback when a filter is cleared */\n  onFilterClear: (filterKey: string) => void\n  /** Callback when all filters are cleared */\n  onClearAll?: () => void\n  /** Additional class name for the root element */\n  className?: string\n}\n\n/* -----------------------------------------------------------------------------\n * Utilities\n * -------------------------------------------------------------------------- */\n\nfunction formatLabel(value: string): string {\n  return value\n    .split(\"-\")\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(\" \")\n}\n\n/* -----------------------------------------------------------------------------\n * FilterDropdown\n * -------------------------------------------------------------------------- */\n\ninterface FilterDropdownProps {\n  label: string\n  icon: React.ComponentType<{ className?: string }>\n  options: string[]\n  selected: string[]\n  onToggle: (value: string) => void\n  onClear: () => void\n}\n\nfunction FilterDropdown({\n  label,\n  icon: Icon,\n  options,\n  selected,\n  onToggle,\n  onClear,\n}: FilterDropdownProps) {\n  const hasSelection = selected.length > 0\n\n  return (\n    <DropdownMenu>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <DropdownMenuTrigger asChild>\n            <button\n              type=\"button\"\n              data-slot=\"filter-dropdown-trigger\"\n              className={cn(\n                \"flex h-8 items-center gap-0.5 rounded-full px-2 transition-colors focus-visible:outline-none focus-visible:ring-0\",\n                hasSelection\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-background text-muted-foreground hover:bg-background/80 hover:text-foreground\"\n              )}\n            >\n              <Icon className=\"size-4\" />\n              <ChevronDown className=\"size-3\" />\n            </button>\n          </DropdownMenuTrigger>\n        </TooltipTrigger>\n        <TooltipContent>{label}</TooltipContent>\n      </Tooltip>\n      <DropdownMenuContent align=\"start\" className=\"max-h-64 overflow-auto\">\n        {hasSelection && (\n          <button\n            type=\"button\"\n            onClick={onClear}\n            className=\"text-muted-foreground hover:text-foreground flex w-full items-center gap-2 px-2 py-1.5 text-sm\"\n          >\n            <X className=\"size-3.5\" />\n            Clear selection\n          </button>\n        )}\n        {options.map((option) => (\n          <DropdownMenuCheckboxItem\n            key={option}\n            checked={selected.includes(option)}\n            onCheckedChange={() => onToggle(option)}\n          >\n            {formatLabel(option)}\n          </DropdownMenuCheckboxItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}\n\n/* -----------------------------------------------------------------------------\n * FilterBar\n * -------------------------------------------------------------------------- */\n\nfunction FilterBar({\n  filters,\n  searchValue = \"\",\n  searchPlaceholder = \"Search...\",\n  onSearchChange,\n  onFilterToggle,\n  onFilterClear,\n  onClearAll,\n  className,\n}: FilterBarProps) {\n  const hasActiveFilters = filters.some((f) => f.selected.length > 0)\n  const showSearch = onSearchChange !== undefined\n\n  return (\n    <div\n      data-slot=\"filter-bar\"\n      className={cn(\n        \"bg-muted flex flex-wrap items-center gap-1.5 rounded-full px-2 py-2\",\n        className\n      )}\n    >\n      {/* Search input */}\n      {showSearch && (\n        <>\n          <div className=\"relative w-56\">\n            <Search className=\"text-muted-foreground pointer-events-none absolute top-1/2 left-3 size-4 -translate-y-1/2\" />\n            <Input\n              type=\"search\"\n              placeholder={searchPlaceholder}\n              value={searchValue}\n              onChange={(e) => onSearchChange(e.target.value)}\n              className=\"bg-background h-8 rounded-full border-0 pr-3 pl-9 shadow-none focus-visible:ring-0\"\n            />\n          </div>\n          <div className=\"bg-border mx-1 h-5 w-px\" />\n        </>\n      )}\n\n      {/* Filter dropdowns */}\n      <div className=\"flex shrink-0 items-center gap-1\">\n        {filters.map((filter) => (\n          <FilterDropdown\n            key={filter.key}\n            label={filter.label}\n            icon={filter.icon}\n            options={filter.options}\n            selected={filter.selected}\n            onToggle={(value) => onFilterToggle(filter.key, value)}\n            onClear={() => onFilterClear(filter.key)}\n          />\n        ))}\n      </div>\n\n      {/* Clear all button */}\n      {hasActiveFilters && onClearAll && (\n        <>\n          <div className=\"bg-border mx-1 h-5 w-px shrink-0\" />\n          <button\n            type=\"button\"\n            onClick={onClearAll}\n            className=\"text-muted-foreground hover:text-foreground hover:bg-background/80 flex h-8 shrink-0 items-center gap-1.5 rounded-full px-3 text-sm transition-colors\"\n          >\n            <X className=\"size-3.5\" />\n            Clear\n          </button>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport { FilterBar, FilterDropdown, formatLabel }\nexport type { FilterDropdownProps }\n",
      "type": "registry:ui"
    }
  ],
  "categories": [
    "application"
  ],
  "tier": "free",
  "readiness": "production"
}